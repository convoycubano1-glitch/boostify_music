Image to Image
POST
https://api.piapi.ai/api/v1/task
This is provided as part of the Flux API from PiAPI. available models:

Qubico/flux1-dev

Qubico/flux1-schnell

Qubico/flux1-dev-advanced
Check Flux with LoRA and Controlnet to learn how to send Flux with LoRA and Controlnet task.
Check Flux with Redux and Fill to learn how to send Flux with variation, inpaint and out paint task.

Below is an example of image-to-image request and response.

Request
Header Params
X-API-Key
string 
required
Your API KEY used for request authorization

Body Params application/json
model
enum<string> 
required
the model name

Allowed values:
Qubico/flux1-dev
Qubico/flux1-schnell
Qubico/flux1-dev-advanced
task_type
enum<string> 
required
Allowed values:
img2img
img2img-lora
controlnet-lora
input
object 
required
the input param of the flux task

prompt
string 
required
negative_prompt
string 
optional
denoise
number 
optional
<= 1
> 0
Default:
0.7
guidance_scale
number 
optional
Guidance scale for image generation. High guidance scales improve prompt adherence at the cost of reduced realism.

>= 1.5
<= 5
image
string 
required
batch_size
number 
optional
number of images, only works for schnell at the moment. Price will be
batch_size * (price for one generation)

>= 1
<= 4
Default:
1
lora_settings
array [object {3}] 
optional
control_net_settings
array[object (control_net_setting) {2}] 
required
config
object 
optional
webhook_config
object 
optional
Example
{
  "model": "Qubico/flux1-schnell",
  "task_type": "img2img",
  "input": {
    "prompt": "a bear",
    "image": "https://i.ibb.co/J7ZNgSG/01.jpg"
  },
  "config": {
    "webhook_config": {
      "endpoint": "https://webhook.site/xxxx",
      "secret": ""
    }
  }
}
Request samples
var myHeaders = new Headers();
myHeaders.append("X-API-Key", "");
myHeaders.append("Content-Type", "application/json");

var raw = JSON.stringify({
   "model": "Qubico/flux1-schnell",
   "task_type": "img2img",
   "input": {
      "prompt": "a bear",
      "image": "https://i.ibb.co/J7ZNgSG/01.jpg"
   },
   "config": {
      "webhook_config": {
         "endpoint": "https://webhook.site/xxxx",
         "secret": ""
      }
   }
});

var requestOptions = {
   method: 'POST',
   headers: myHeaders,
   body: raw,
   redirect: 'follow'
};

fetch("https://api.piapi.ai/api/v1/task", requestOptions)
   .then(response => response.text())
   .then(result => console.log(result))
   .catch(error => console.log('error', error));
Responses
