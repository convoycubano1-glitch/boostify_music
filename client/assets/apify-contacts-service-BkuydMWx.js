import{a as vi,b as Pn,t as No,c as je,g as Uo,z as ie}from"./index-BLUAhhLw.js";const{Axios:$o,AxiosError:Mo,CanceledError:xo,isCancel:jo,CancelToken:Bo,VERSION:Fo,all:qo,Cancel:Vo,isAxiosError:ko,spread:Go,toFormData:Yo,AxiosHeaders:Wo,HttpStatusCode:Ko,formToJSON:Ho,getAdapter:Xo,mergeConfig:zo}=vi,Jo=Object.freeze(Object.defineProperty({__proto__:null,Axios:$o,AxiosError:Mo,AxiosHeaders:Wo,Cancel:Vo,CancelToken:Bo,CanceledError:xo,HttpStatusCode:Ko,VERSION:Fo,all:qo,default:vi,formToJSON:Ho,getAdapter:Xo,isAxiosError:ko,isCancel:jo,mergeConfig:zo,spread:Go,toFormData:Yo},Symbol.toStringTag,{value:"Module"}));var Ci={};const B=Pn(No);var bt={},dn,Wn;function Be(){if(Wn)return dn;Wn=1;var l=Object.defineProperty,n=Object.getOwnPropertyDescriptor,u=Object.getOwnPropertyNames,o=Object.prototype.hasOwnProperty,r=(ve,ee)=>{for(var ct in ee)l(ve,ct,{get:ee[ct],enumerable:!0})},t=(ve,ee,ct,Cr)=>{if(ee&&typeof ee=="object"||typeof ee=="function")for(let Ke of u(ee))!o.call(ve,Ke)&&Ke!==ct&&l(ve,Ke,{get:()=>ee[Ke],enumerable:!(Cr=n(ee,Ke))||Cr.enumerable});return ve},i=ve=>t(l({},"__esModule",{value:!0}),ve),s={};r(s,{ACTOR_BUILD_ARGS:()=>Zr,ACTOR_CATEGORIES:()=>Or,ACTOR_ENV_VARS:()=>z,ACTOR_EVENT_NAMES:()=>Ie,ACTOR_JOB_STATUSES:()=>pe,ACTOR_JOB_TERMINAL_STATUSES:()=>we,ACTOR_JOB_TYPES:()=>ue,ACTOR_LIMITS:()=>ke,ACTOR_NAME:()=>ot,ACTOR_RESTART_ON_ERROR:()=>A,ACTOR_SOURCE_TYPES:()=>ce,ACTOR_TYPES:()=>qe,ACT_JOB_STATUSES:()=>W,ACT_JOB_TERMINAL_STATUSES:()=>V,ACT_JOB_TYPES:()=>M,ACT_RESTART_ON_ERROR:()=>C,ACT_SOURCE_TYPES:()=>j,ACT_TYPES:()=>k,ALL_ACTOR_CATEGORIES:()=>pt,ANONYMOUS_USERNAME:()=>de,APIFY_ENV_VARS:()=>X,APIFY_ID_REGEX:()=>ye,APIFY_PROXY_VALUE_REGEX:()=>N,BUILD_TAG_LATEST:()=>R,COMMA_SEPARATED_EMAILS_REGEX:()=>b,COMMA_SEPARATED_EMAILS_REGEX_STR:()=>h,COMMA_SEPARATED_LIST_ENV_VARS:()=>Ar,COMPUTE_UNIT_MB:()=>ne,COMPUTE_UNIT_MILLIS:()=>be,CONTACT_LINK_REGEX:()=>_e,DEFAULT_ACTOR_STANDBY_PORT:()=>lt,DEFAULT_CONTAINER_PORT:()=>Ne,DEFAULT_PLATFORM_LIMITS:()=>ut,DNS_SAFE_NAME_MAX_LENGTH:()=>Te,DNS_SAFE_NAME_REGEX:()=>D,DOCKER_LABELS:()=>q,EMAIL:()=>it,EMAIL_REGEX:()=>p,EMAIL_REGEX_STR:()=>a,ENV_VARS:()=>Ge,FINISHED_PROJECT_STATUSES:()=>vr,FREE_SUBSCRIPTION_PLAN_CODE:()=>U,GITHUB_GIST_URL_REGEX:()=>$,GITHUB_REGEX:()=>y,GIT_MAIN_BRANCH:()=>on,GIT_REPO_REGEX:()=>v,HTTP_URL_REGEX:()=>I,INTEGER_ENV_VARS:()=>br,ISSUES_STATUS_ALL:()=>ln,ISSUES_STATUS_TYPES:()=>un,KEY_VALUE_STORE_KEYS:()=>Sr,KEY_VALUE_STORE_KEY_REGEX:()=>T,LINKEDIN_PROFILE_REGEX:()=>O,LOCAL_ACTOR_ENV_VARS:()=>Re,LOCAL_APIFY_ENV_VARS:()=>Rr,LOCAL_ENV_VARS:()=>Se,LOCAL_STORAGE_SUBDIRS:()=>Tr,MARKETPLACE_USER_ROLES:()=>Et,MAX_MULTIFILE_BYTES:()=>nn,MAX_PAYLOAD_SIZE_BYTES:()=>en,META_ORIGINS:()=>_t,ME_USER_NAME_PLACEHOLDER:()=>nt,PROFILE_NAME:()=>Ve,PROJECT_STATUSES:()=>Ue,PROXY_URL_REGEX:()=>P,RELATIVE_URL_REGEX:()=>Z,REQUEST_QUEUE_HEAD_MAX_LIMIT:()=>Le,REQUEST_QUEUE_MAX_REQUESTS_PER_BATCH_OPERATION:()=>sn,SHORT_CRAWLER_ID_LENGTH:()=>st,SOURCE_FILE_FORMATS:()=>an,SPLIT_PATH_REGEX:()=>G,TWITTER_REGEX:()=>e,URL_REGEX:()=>w,USERNAME:()=>at,USER_BASIC_TEXT_XSS_OPTIONS:()=>gt,USER_PERSONA_TYPES:()=>Oe,VERSION_INT_MAJOR_BASE:()=>Ye,VERSION_INT_MINOR_BASE:()=>ht,WEBHOOK_ALLOWED_PAYLOAD_VARIABLES:()=>rn,WEBHOOK_DEFAULT_PAYLOAD_TEMPLATE:()=>tn,WEBHOOK_DISPATCH_STATUSES:()=>Fe,WEBHOOK_EVENT_TYPES:()=>H,WEBHOOK_EVENT_TYPE_GROUPS:()=>We,WORKER_SERVICE_TYPES:()=>De}),dn=i(s);var c="[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+",g=`${c}(?:\\.${c})*`,_="[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?",d=`${_}(?:\\.${_})+`,a=`${g}@${d}`,p=new RegExp(`^${a}$`),h=`(${a})( *, *${a})*`,b=new RegExp(`^${h}$`),v=/^(?:git|ssh|https?|git@[-\w.]+):(\/\/)?(.*?)(\/?|#[-\d\w._:/]+?)$/,D=/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]*[a-zA-Z0-9])$/,N=/^[\w._~]+$/,P=/^(socks(4|4a|5|5h)?|https?):\/\/(([^:]+:)?[^@]*@)?[^.:@]+\.[^:]+:[\d]+?$/,T=/^([a-zA-Z0-9!\-_.'()]{1,256})$/,E="[a-z\\d](?:[a-z\\d]|-(?=[a-z\\d])){0,38}",e=/^@[a-z0-9_]{1,15}$/i,y=new RegExp(`^${E}$`,"i"),O=/^(https?:\/\/)?(www\.)?([a-z]{2}\.)?linkedin.com\/(in|company)\/([A-Za-z0-9_-]+)\/?$/,w=/^https?:\/\//i,I=new RegExp("^(?:(?:(?:https?):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z0-9\\u00a1-\\uffff][a-z0-9\\u00a1-\\uffff_-]{0,62})?[a-z0-9\\u00a1-\\uffff]\\.)+(?:[a-z\\u00a1-\\uffff]{2,}\\.?|xn--[a-z0-9]+))(?::\\d{2,5})?(?:[/?#]\\S*)?$","i"),$=new RegExp(`^https:\\/\\/gist\\.github\\.com\\/${E}\\/[0-9a-f]{32}$`,"i"),G=/[^/]+/g,Z=/^(?!www\.|(?:http|ftp)s?:\/\/|[A-Za-z]:\|\/\/).*/i,_e=/^(mailto|tel|sms):.*$/i,ye=/[a-zA-Z0-9]{17}/,U="DEV",ue={BUILD:"BUILD",RUN:"RUN"},ce={SOURCE_CODE:"SOURCE_CODE",SOURCE_FILES:"SOURCE_FILES",GIT_REPO:"GIT_REPO",TARBALL:"TARBALL",GITHUB_GIST:"GITHUB_GIST"},Ie={CPU_INFO:"cpuInfo",SYSTEM_INFO:"systemInfo",MIGRATING:"migrating",PERSIST_STATE:"persistState",ABORTING:"aborting"},pe={READY:"READY",RUNNING:"RUNNING",SUCCEEDED:"SUCCEEDED",FAILED:"FAILED",TIMING_OUT:"TIMING-OUT",TIMED_OUT:"TIMED-OUT",ABORTING:"ABORTING",ABORTED:"ABORTED"},Fe={ACTIVE:"ACTIVE",SUCCEEDED:"SUCCEEDED",FAILED:"FAILED"},we=[pe.SUCCEEDED,pe.FAILED,pe.TIMED_OUT,pe.ABORTED],De={CRAWLING:"crawling",ACTOR:"actor"},_t={DEVELOPMENT:"DEVELOPMENT",WEB:"WEB",API:"API",SCHEDULER:"SCHEDULER",TEST:"TEST",WEBHOOK:"WEBHOOK",ACTOR:"ACTOR",CLI:"CLI",STANDBY:"STANDBY"},q={ACTOR_BUILD_ID:"com.apify.actBuildId",ACTOR_RUN_ID:"com.apify.actRunId",ACT_BUILD_ID:"com.apify.actBuildId",ACT_RUN_ID:"com.apify.actRunId"},qe={ACT:"acts",CRAWLER:"crawlers"},nt="me",de="anonymous",at={MIN_LENGTH:3,MAX_LENGTH:30,REGEX:/^[a-zA-Z0-9_.-]{3,30}$/},it={MAX_LENGTH:254,REGEX:p},Ve={MAX_LENGTH:50,REGEX:/^(?!.*:\/\/)[^@><]*$/},Te=63,ot={MIN_LENGTH:3,MAX_LENGTH:Te,REGEX:D},st=5,R="latest",A={MAX_RESTARTS:3,INTERVAL_MILLIS:1*60*1e3},C=A,M=ue,j=ce,W=pe,V=we,k=qe,ne=1024,be=60*60*1e3,ke={BUILD_DEFAULT_MEMORY_MBYTES:4096,BUILD_TIMEOUT_SECS:1800,RUN_DISK_TO_MEMORY_SIZE_COEFF:2,RUN_MEMORY_MBYTES_PER_CPU_CORE:4096,FREE_ACCOUNT_MAX_MEMORY_MBYTES:8192,PAID_ACCOUNT_MAX_MEMORY_MBYTES:65536,MIN_RUN_MEMORY_MBYTES:128,MAX_RUN_MEMORY_MBYTES:32768,INPUT_SCHEMA_MAX_BYTES:500*1024,LOG_MAX_CHARS:10*1024*1024},ut={MAX_ACTORS_PER_USER:500,MAX_TASKS_PER_USER:5e3,MAX_SCHEDULES_PER_USER:100,MAX_WEBHOOKS_PER_USER:100,FREE_ACCOUNT_MAX_CONCURRENT_ACTOR_RUNS_PER_USER:25,PAID_ACCOUNT_MAX_CONCURRENT_ACTOR_RUNS_PER_USER:250,MAX_ACTORS_PER_SCHEDULER:10,MAX_TASKS_PER_SCHEDULER:10},Le=1e3,X={API_BASE_URL:"APIFY_API_BASE_URL",API_PUBLIC_BASE_URL:"APIFY_API_PUBLIC_BASE_URL",CHROME_EXECUTABLE_PATH:"APIFY_CHROME_EXECUTABLE_PATH",DEDICATED_CPUS:"APIFY_DEDICATED_CPUS",DISABLE_OUTDATED_WARNING:"APIFY_DISABLE_OUTDATED_WARNING",FACT:"APIFY_FACT",HEADLESS:"APIFY_HEADLESS",INPUT_SECRETS_PRIVATE_KEY_FILE:"APIFY_INPUT_SECRETS_PRIVATE_KEY_FILE",INPUT_SECRETS_PRIVATE_KEY_PASSPHRASE:"APIFY_INPUT_SECRETS_PRIVATE_KEY_PASSPHRASE",IS_AT_HOME:"APIFY_IS_AT_HOME",LOCAL_STORAGE_DIR:"APIFY_LOCAL_STORAGE_DIR",LOG_LEVEL:"APIFY_LOG_LEVEL",LOG_FORMAT:"APIFY_LOG_FORMAT",META_ORIGIN:"APIFY_META_ORIGIN",METAMORPH_AFTER_SLEEP_MILLIS:"APIFY_METAMORPH_AFTER_SLEEP_MILLIS",PERSIST_STATE_INTERVAL_MILLIS:"APIFY_PERSIST_STATE_INTERVAL_MILLIS",PROXY_PASSWORD:"APIFY_PROXY_PASSWORD",PROXY_HOSTNAME:"APIFY_PROXY_HOSTNAME",PROXY_PORT:"APIFY_PROXY_PORT",PROXY_STATUS_URL:"APIFY_PROXY_STATUS_URL",PURGE_ON_START:"APIFY_PURGE_ON_START",SDK_LATEST_VERSION:"APIFY_SDK_LATEST_VERSION",SYSTEM_INFO_INTERVAL_MILLIS:"APIFY_SYSTEM_INFO_INTERVAL_MILLIS",TOKEN:"APIFY_TOKEN",USER_ID:"APIFY_USER_ID",WORKFLOW_KEY:"APIFY_WORKFLOW_KEY",XVFB:"APIFY_XVFB",ACTOR_BUILD_ID:"APIFY_ACTOR_BUILD_ID",ACTOR_BUILD_NUMBER:"APIFY_ACTOR_BUILD_NUMBER",ACTOR_EVENTS_WS_URL:"APIFY_ACTOR_EVENTS_WS_URL",ACTOR_ID:"APIFY_ACTOR_ID",ACTOR_MAX_PAID_DATASET_ITEMS:"ACTOR_MAX_PAID_DATASET_ITEMS",ACTOR_RUN_ID:"APIFY_ACTOR_RUN_ID",ACTOR_TASK_ID:"APIFY_ACTOR_TASK_ID",CONTAINER_PORT:"APIFY_CONTAINER_PORT",CONTAINER_URL:"APIFY_CONTAINER_URL",DEFAULT_DATASET_ID:"APIFY_DEFAULT_DATASET_ID",DEFAULT_KEY_VALUE_STORE_ID:"APIFY_DEFAULT_KEY_VALUE_STORE_ID",DEFAULT_REQUEST_QUEUE_ID:"APIFY_DEFAULT_REQUEST_QUEUE_ID",INPUT_KEY:"APIFY_INPUT_KEY",MEMORY_MBYTES:"APIFY_MEMORY_MBYTES",STARTED_AT:"APIFY_STARTED_AT",TIMEOUT_AT:"APIFY_TIMEOUT_AT",ACT_ID:"APIFY_ACT_ID",ACT_RUN_ID:"APIFY_ACT_RUN_ID"},Ge=X,z={BUILD_ID:"ACTOR_BUILD_ID",BUILD_NUMBER:"ACTOR_BUILD_NUMBER",BUILD_TAGS:"ACTOR_BUILD_TAGS",DEFAULT_DATASET_ID:"ACTOR_DEFAULT_DATASET_ID",DEFAULT_KEY_VALUE_STORE_ID:"ACTOR_DEFAULT_KEY_VALUE_STORE_ID",DEFAULT_REQUEST_QUEUE_ID:"ACTOR_DEFAULT_REQUEST_QUEUE_ID",EVENTS_WEBSOCKET_URL:"ACTOR_EVENTS_WEBSOCKET_URL",FULL_NAME:"ACTOR_FULL_NAME",ID:"ACTOR_ID",INPUT_KEY:"ACTOR_INPUT_KEY",MAX_PAID_DATASET_ITEMS:"ACTOR_MAX_PAID_DATASET_ITEMS",MAX_TOTAL_CHARGE_USD:"ACTOR_MAX_TOTAL_CHARGE_USD",MEMORY_MBYTES:"ACTOR_MEMORY_MBYTES",RUN_ID:"ACTOR_RUN_ID",STANDBY_PORT:"ACTOR_STANDBY_PORT",STANDBY_URL:"ACTOR_STANDBY_URL",STARTED_AT:"ACTOR_STARTED_AT",TASK_ID:"ACTOR_TASK_ID",TIMEOUT_AT:"ACTOR_TIMEOUT_AT",WEB_SERVER_PORT:"ACTOR_WEB_SERVER_PORT",WEB_SERVER_URL:"ACTOR_WEB_SERVER_URL"},br=[z.MAX_PAID_DATASET_ITEMS,z.MEMORY_MBYTES,z.STANDBY_PORT,z.WEB_SERVER_PORT,X.ACTOR_MAX_PAID_DATASET_ITEMS,X.CONTAINER_PORT,X.DEDICATED_CPUS,X.MEMORY_MBYTES,X.METAMORPH_AFTER_SLEEP_MILLIS,X.PERSIST_STATE_INTERVAL_MILLIS,X.PROXY_PORT,X.SYSTEM_INFO_INTERVAL_MILLIS],Ar=[z.BUILD_TAGS],Zr={ACTOR_PATH_IN_DOCKER_CONTEXT:"ACTOR_PATH_IN_DOCKER_CONTEXT"},Ne=4321,lt=Ne,Tr={datasets:"datasets",keyValueStores:"key_value_stores",requestQueues:"request_queues"},Re={[z.STANDBY_PORT]:Ne.toString(),[z.DEFAULT_DATASET_ID]:"default",[z.DEFAULT_KEY_VALUE_STORE_ID]:"default",[z.DEFAULT_REQUEST_QUEUE_ID]:"default",[z.WEB_SERVER_PORT]:Ne.toString(),[z.WEB_SERVER_URL]:`http://localhost:${Ne}`},Rr={[X.CONTAINER_PORT]:Re.ACTOR_WEB_SERVER_PORT,[X.CONTAINER_URL]:Re.ACTOR_WEB_SERVER_URL,[X.DEFAULT_DATASET_ID]:Re.ACTOR_DEFAULT_DATASET_ID,[X.DEFAULT_KEY_VALUE_STORE_ID]:Re.ACTOR_DEFAULT_KEY_VALUE_STORE_ID,[X.DEFAULT_REQUEST_QUEUE_ID]:Re.ACTOR_DEFAULT_REQUEST_QUEUE_ID,[X.PROXY_HOSTNAME]:"proxy.apify.com",[X.PROXY_PORT]:"8000"},Se=Rr,Sr={INPUT:"INPUT",OUTPUT:"OUTPUT"},en=9437184,Or={AI:"AI",AUTOMATION:"Automation",BUSINESS:"Business",COVID_19:"Covid-19",DEVELOPER_EXAMPLES:"Developer examples",DEVELOPER_TOOLS:"Developer tools",ECOMMERCE:"E-commerce",FOR_CREATORS:"For creators",GAMES:"Games",JOBS:"Jobs",LEAD_GENERATION:"Lead generation",MARKETING:"Marketing",NEWS:"News",SEO_TOOLS:"SEO tools",SOCIAL_MEDIA:"Social media",TRAVEL:"Travel",VIDEOS:"Videos",REAL_ESTATE:"Real estate",SPORTS:"Sports",EDUCATION:"Education",INTEGRATIONS:"Integrations",OTHER:"Other",OPEN_SOURCE:"Open source"},pt={...Or},Ye=1e7,ht=1e5,gt={whiteList:{a:["href","title","target"],code:[],strong:[],b:[],br:[],ul:[],li:[],ol:[],i:[],u:[],p:[]}},H={ACTOR_RUN_CREATED:"ACTOR.RUN.CREATED",ACTOR_RUN_SUCCEEDED:"ACTOR.RUN.SUCCEEDED",ACTOR_RUN_FAILED:"ACTOR.RUN.FAILED",ACTOR_RUN_TIMED_OUT:"ACTOR.RUN.TIMED_OUT",ACTOR_RUN_ABORTED:"ACTOR.RUN.ABORTED",ACTOR_RUN_RESURRECTED:"ACTOR.RUN.RESURRECTED",ACTOR_BUILD_CREATED:"ACTOR.BUILD.CREATED",ACTOR_BUILD_SUCCEEDED:"ACTOR.BUILD.SUCCEEDED",ACTOR_BUILD_FAILED:"ACTOR.BUILD.FAILED",ACTOR_BUILD_TIMED_OUT:"ACTOR.BUILD.TIMED_OUT",ACTOR_BUILD_ABORTED:"ACTOR.BUILD.ABORTED",TEST:"TEST"},We={ACTOR_RUN:[H.ACTOR_RUN_CREATED,H.ACTOR_RUN_SUCCEEDED,H.ACTOR_RUN_FAILED,H.ACTOR_RUN_TIMED_OUT,H.ACTOR_RUN_ABORTED,H.ACTOR_RUN_RESURRECTED],ACTOR_BUILD:[H.ACTOR_BUILD_CREATED,H.ACTOR_BUILD_SUCCEEDED,H.ACTOR_BUILD_FAILED,H.ACTOR_BUILD_TIMED_OUT,H.ACTOR_BUILD_ABORTED],ACTOR_RUN_TERMINAL:[H.ACTOR_RUN_SUCCEEDED,H.ACTOR_RUN_FAILED,H.ACTOR_RUN_TIMED_OUT,H.ACTOR_RUN_ABORTED],ACTOR_BUILD_TERMINAL:[H.ACTOR_BUILD_SUCCEEDED,H.ACTOR_BUILD_FAILED,H.ACTOR_BUILD_TIMED_OUT,H.ACTOR_BUILD_ABORTED]},tn=`{
    "userId": {{userId}},
    "createdAt": {{createdAt}},
    "eventType": {{eventType}},
    "eventData": {{eventData}},
    "resource": {{resource}}
}`,rn=new Set(["userId","createdAt","eventType","eventData","resource"]),nn=3*1024**2,an={TEXT:"TEXT",BASE64:"BASE64"},Ue={REQUEST:"REQUEST",SPECIFICATION:"SPECIFICATION",OFFERS:"OFFERS",DEPOSIT:"DEPOSIT",DEPOSIT_PAID:"DEPOSIT_PAID",NEW:"NEW",IN_PROGRESS:"IN_PROGRESS",QA:"QA",CUSTOMER_QA:"CUSTOMER_QA",READY_FOR_INVOICE:"READY_FOR_INVOICE",INVOICED:"INVOICED",PAID:"PAID",DELIVERED:"DELIVERED",CLOSED:"CLOSED",FINISHED:"FINISHED"},vr=[Ue.READY_FOR_INVOICE,Ue.INVOICED,Ue.PAID,Ue.DELIVERED,Ue.FINISHED],Et={DEVELOPER:"DEVELOPER",DATA_EXPERT:"DATA_EXPERT",CUSTOMER:"CUSTOMER"},Oe={DEVELOPER:"DEVELOPER",USER:"USER"},on="main",sn=25,un={OPEN:"OPEN",CLOSED:"CLOSED"},ln="ALL";return dn}var Ur={exports:{}},Kn;function Qo(){if(Kn)return Ur.exports;Kn=1;var l=typeof Reflect=="object"?Reflect:null,n=l&&typeof l.apply=="function"?l.apply:function(E,e,y){return Function.prototype.apply.call(E,e,y)},u;l&&typeof l.ownKeys=="function"?u=l.ownKeys:Object.getOwnPropertySymbols?u=function(E){return Object.getOwnPropertyNames(E).concat(Object.getOwnPropertySymbols(E))}:u=function(E){return Object.getOwnPropertyNames(E)};function o(T){console&&console.warn&&console.warn(T)}var r=Number.isNaN||function(E){return E!==E};function t(){t.init.call(this)}Ur.exports=t,Ur.exports.once=D,t.EventEmitter=t,t.prototype._events=void 0,t.prototype._eventsCount=0,t.prototype._maxListeners=void 0;var i=10;function s(T){if(typeof T!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof T)}Object.defineProperty(t,"defaultMaxListeners",{enumerable:!0,get:function(){return i},set:function(T){if(typeof T!="number"||T<0||r(T))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+T+".");i=T}}),t.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},t.prototype.setMaxListeners=function(E){if(typeof E!="number"||E<0||r(E))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+E+".");return this._maxListeners=E,this};function c(T){return T._maxListeners===void 0?t.defaultMaxListeners:T._maxListeners}t.prototype.getMaxListeners=function(){return c(this)},t.prototype.emit=function(E){for(var e=[],y=1;y<arguments.length;y++)e.push(arguments[y]);var O=E==="error",w=this._events;if(w!==void 0)O=O&&w.error===void 0;else if(!O)return!1;if(O){var I;if(e.length>0&&(I=e[0]),I instanceof Error)throw I;var $=new Error("Unhandled error."+(I?" ("+I.message+")":""));throw $.context=I,$}var G=w[E];if(G===void 0)return!1;if(typeof G=="function")n(G,this,e);else for(var Z=G.length,_e=h(G,Z),y=0;y<Z;++y)n(_e[y],this,e);return!0};function g(T,E,e,y){var O,w,I;if(s(e),w=T._events,w===void 0?(w=T._events=Object.create(null),T._eventsCount=0):(w.newListener!==void 0&&(T.emit("newListener",E,e.listener?e.listener:e),w=T._events),I=w[E]),I===void 0)I=w[E]=e,++T._eventsCount;else if(typeof I=="function"?I=w[E]=y?[e,I]:[I,e]:y?I.unshift(e):I.push(e),O=c(T),O>0&&I.length>O&&!I.warned){I.warned=!0;var $=new Error("Possible EventEmitter memory leak detected. "+I.length+" "+String(E)+" listeners added. Use emitter.setMaxListeners() to increase limit");$.name="MaxListenersExceededWarning",$.emitter=T,$.type=E,$.count=I.length,o($)}return T}t.prototype.addListener=function(E,e){return g(this,E,e,!1)},t.prototype.on=t.prototype.addListener,t.prototype.prependListener=function(E,e){return g(this,E,e,!0)};function _(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(T,E,e){var y={fired:!1,wrapFn:void 0,target:T,type:E,listener:e},O=_.bind(y);return O.listener=e,y.wrapFn=O,O}t.prototype.once=function(E,e){return s(e),this.on(E,d(this,E,e)),this},t.prototype.prependOnceListener=function(E,e){return s(e),this.prependListener(E,d(this,E,e)),this},t.prototype.removeListener=function(E,e){var y,O,w,I,$;if(s(e),O=this._events,O===void 0)return this;if(y=O[E],y===void 0)return this;if(y===e||y.listener===e)--this._eventsCount===0?this._events=Object.create(null):(delete O[E],O.removeListener&&this.emit("removeListener",E,y.listener||e));else if(typeof y!="function"){for(w=-1,I=y.length-1;I>=0;I--)if(y[I]===e||y[I].listener===e){$=y[I].listener,w=I;break}if(w<0)return this;w===0?y.shift():b(y,w),y.length===1&&(O[E]=y[0]),O.removeListener!==void 0&&this.emit("removeListener",E,$||e)}return this},t.prototype.off=t.prototype.removeListener,t.prototype.removeAllListeners=function(E){var e,y,O;if(y=this._events,y===void 0)return this;if(y.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):y[E]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete y[E]),this;if(arguments.length===0){var w=Object.keys(y),I;for(O=0;O<w.length;++O)I=w[O],I!=="removeListener"&&this.removeAllListeners(I);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(e=y[E],typeof e=="function")this.removeListener(E,e);else if(e!==void 0)for(O=e.length-1;O>=0;O--)this.removeListener(E,e[O]);return this};function a(T,E,e){var y=T._events;if(y===void 0)return[];var O=y[E];return O===void 0?[]:typeof O=="function"?e?[O.listener||O]:[O]:e?v(O):h(O,O.length)}t.prototype.listeners=function(E){return a(this,E,!0)},t.prototype.rawListeners=function(E){return a(this,E,!1)},t.listenerCount=function(T,E){return typeof T.listenerCount=="function"?T.listenerCount(E):p.call(T,E)},t.prototype.listenerCount=p;function p(T){var E=this._events;if(E!==void 0){var e=E[T];if(typeof e=="function")return 1;if(e!==void 0)return e.length}return 0}t.prototype.eventNames=function(){return this._eventsCount>0?u(this._events):[]};function h(T,E){for(var e=new Array(E),y=0;y<E;++y)e[y]=T[y];return e}function b(T,E){for(;E+1<T.length;E++)T[E]=T[E+1];T.pop()}function v(T){for(var E=new Array(T.length),e=0;e<E.length;++e)E[e]=T[e].listener||T[e];return E}function D(T,E){return new Promise(function(e,y){function O(I){T.removeListener(E,w),y(I)}function w(){typeof T.removeListener=="function"&&T.removeListener("error",O),e([].slice.call(arguments))}P(T,E,w,{once:!0}),E!=="error"&&N(T,O,{once:!0})})}function N(T,E,e){typeof T.on=="function"&&P(T,"error",E,e)}function P(T,E,e,y){if(typeof T.on=="function")y.once?T.once(E,e):T.on(E,e);else if(typeof T.addEventListener=="function")T.addEventListener(E,function O(w){y.once&&T.removeEventListener(E,O),e(w)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof T)}return Ur.exports}var $r={exports:{}},fn={exports:{}},Hn;function Zo(){return Hn||(Hn=1,function(l){var n={};const u=typeof process<"u"&&n.TERM_PROGRAM==="Hyper",o=typeof process<"u"&&process.platform==="win32",r=typeof process<"u"&&process.platform==="linux",t={ballotDisabled:"☒",ballotOff:"☐",ballotOn:"☑",bullet:"•",bulletWhite:"◦",fullBlock:"█",heart:"❤",identicalTo:"≡",line:"─",mark:"※",middot:"·",minus:"－",multiplication:"×",obelus:"÷",pencilDownRight:"✎",pencilRight:"✏",pencilUpRight:"✐",percent:"%",pilcrow2:"❡",pilcrow:"¶",plusMinus:"±",question:"?",section:"§",starsOff:"☆",starsOn:"★",upDownArrow:"↕"},i=Object.assign({},t,{check:"√",cross:"×",ellipsisLarge:"...",ellipsis:"...",info:"i",questionSmall:"?",pointer:">",pointerSmall:"»",radioOff:"( )",radioOn:"(*)",warning:"‼"}),s=Object.assign({},t,{ballotCross:"✘",check:"✔",cross:"✖",ellipsisLarge:"⋯",ellipsis:"…",info:"ℹ",questionFull:"？",questionSmall:"﹖",pointer:r?"▸":"❯",pointerSmall:r?"‣":"›",radioOff:"◯",radioOn:"◉",warning:"⚠"});l.exports=o&&!u?i:s,Reflect.defineProperty(l.exports,"common",{enumerable:!1,value:t}),Reflect.defineProperty(l.exports,"windows",{enumerable:!1,value:i}),Reflect.defineProperty(l.exports,"other",{enumerable:!1,value:s})}(fn)),fn.exports}var Xn;function zn(){if(Xn)return $r.exports;Xn=1;var l={};const n=t=>t!==null&&typeof t=="object"&&!Array.isArray(t),u=/[\u001b\u009b][[\]#;?()]*(?:(?:(?:[^\W_]*;?[^\W_]*)\u0007)|(?:(?:[0-9]{1,4}(;[0-9]{0,4})*)?[~0-9=<>cf-nqrtyA-PRZ]))/g,o=()=>typeof process<"u"?l.FORCE_COLOR!=="0":!1,r=()=>{const t={enabled:o(),visible:!0,styles:{},keys:{}},i=_=>{let d=_.open=`\x1B[${_.codes[0]}m`,a=_.close=`\x1B[${_.codes[1]}m`,p=_.regex=new RegExp(`\\u001b\\[${_.codes[1]}m`,"g");return _.wrap=(h,b)=>{h.includes(a)&&(h=h.replace(p,a+d));let v=d+h+a;return b?v.replace(/\r*\n/g,`${a}$&${d}`):v},_},s=(_,d,a)=>typeof _=="function"?_(d):_.wrap(d,a),c=(_,d)=>{if(_===""||_==null)return"";if(t.enabled===!1)return _;if(t.visible===!1)return"";let a=""+_,p=a.includes(`
`),h=d.length;for(h>0&&d.includes("unstyle")&&(d=[...new Set(["unstyle",...d])].reverse());h-- >0;)a=s(t.styles[d[h]],a,p);return a},g=(_,d,a)=>{t.styles[_]=i({name:_,codes:d}),(t.keys[a]||(t.keys[a]=[])).push(_),Reflect.defineProperty(t,_,{configurable:!0,enumerable:!0,set(h){t.alias(_,h)},get(){let h=b=>c(b,h.stack);return Reflect.setPrototypeOf(h,t),h.stack=this.stack?this.stack.concat(_):[_],h}})};return g("reset",[0,0],"modifier"),g("bold",[1,22],"modifier"),g("dim",[2,22],"modifier"),g("italic",[3,23],"modifier"),g("underline",[4,24],"modifier"),g("inverse",[7,27],"modifier"),g("hidden",[8,28],"modifier"),g("strikethrough",[9,29],"modifier"),g("black",[30,39],"color"),g("red",[31,39],"color"),g("green",[32,39],"color"),g("yellow",[33,39],"color"),g("blue",[34,39],"color"),g("magenta",[35,39],"color"),g("cyan",[36,39],"color"),g("white",[37,39],"color"),g("gray",[90,39],"color"),g("grey",[90,39],"color"),g("bgBlack",[40,49],"bg"),g("bgRed",[41,49],"bg"),g("bgGreen",[42,49],"bg"),g("bgYellow",[43,49],"bg"),g("bgBlue",[44,49],"bg"),g("bgMagenta",[45,49],"bg"),g("bgCyan",[46,49],"bg"),g("bgWhite",[47,49],"bg"),g("blackBright",[90,39],"bright"),g("redBright",[91,39],"bright"),g("greenBright",[92,39],"bright"),g("yellowBright",[93,39],"bright"),g("blueBright",[94,39],"bright"),g("magentaBright",[95,39],"bright"),g("cyanBright",[96,39],"bright"),g("whiteBright",[97,39],"bright"),g("bgBlackBright",[100,49],"bgBright"),g("bgRedBright",[101,49],"bgBright"),g("bgGreenBright",[102,49],"bgBright"),g("bgYellowBright",[103,49],"bgBright"),g("bgBlueBright",[104,49],"bgBright"),g("bgMagentaBright",[105,49],"bgBright"),g("bgCyanBright",[106,49],"bgBright"),g("bgWhiteBright",[107,49],"bgBright"),t.ansiRegex=u,t.hasColor=t.hasAnsi=_=>(t.ansiRegex.lastIndex=0,typeof _=="string"&&_!==""&&t.ansiRegex.test(_)),t.alias=(_,d)=>{let a=typeof d=="string"?t[d]:d;if(typeof a!="function")throw new TypeError("Expected alias to be the name of an existing color (string) or a function");a.stack||(Reflect.defineProperty(a,"name",{value:_}),t.styles[_]=a,a.stack=[_]),Reflect.defineProperty(t,_,{configurable:!0,enumerable:!0,set(p){t.alias(_,p)},get(){let p=h=>c(h,p.stack);return Reflect.setPrototypeOf(p,t),p.stack=this.stack?this.stack.concat(a.stack):a.stack,p}})},t.theme=_=>{if(!n(_))throw new TypeError("Expected theme to be an object");for(let d of Object.keys(_))t.alias(d,_[d]);return t},t.alias("unstyle",_=>typeof _=="string"&&_!==""?(t.ansiRegex.lastIndex=0,_.replace(t.ansiRegex,"")):""),t.alias("noop",_=>_),t.none=t.clear=t.noop,t.stripColor=t.unstyle,t.symbols=Zo(),t.define=g,t};return $r.exports=r(),$r.exports.create=r,$r.exports}var _n,Jn;function In(){if(Jn)return _n;Jn=1;var l={},n=Object.create,u=Object.defineProperty,o=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,t=Object.getPrototypeOf,i=Object.prototype.hasOwnProperty,s=(R,A,C)=>A in R?u(R,A,{enumerable:!0,configurable:!0,writable:!0,value:C}):R[A]=C,c=(R,A)=>u(R,"name",{value:A,configurable:!0}),g=(R,A)=>{for(var C in A)u(R,C,{get:A[C],enumerable:!0})},_=(R,A,C,M)=>{if(A&&typeof A=="object"||typeof A=="function")for(let j of r(A))!i.call(R,j)&&j!==C&&u(R,j,{get:()=>A[j],enumerable:!(M=o(A,j))||M.enumerable});return R},d=(R,A,C)=>(C=R!=null?n(t(R)):{},_(!R||!R.__esModule?u(C,"default",{value:R,enumerable:!0}):C,R)),a=R=>_(u({},"__esModule",{value:!0}),R),p=(R,A,C)=>s(R,typeof A!="symbol"?A+"":A,C),h={};g(h,{IS_APIFY_LOGGER_EXCEPTION:()=>T,LEVELS:()=>N,LEVEL_TO_STRING:()=>P,Log:()=>Te,LogFormat:()=>v,LogLevel:()=>b,Logger:()=>G,LoggerJson:()=>ye,LoggerText:()=>de,PREFIX_DELIMITER:()=>D,default:()=>st,getFormatFromEnv:()=>O,getLevelFromEnv:()=>y,limitDepth:()=>w,truncate:()=>e}),_n=a(h);var b=(R=>(R[R.OFF=0]="OFF",R[R.ERROR=1]="ERROR",R[R.SOFT_FAIL=2]="SOFT_FAIL",R[R.WARNING=3]="WARNING",R[R.INFO=4]="INFO",R[R.DEBUG=5]="DEBUG",R[R.PERF=6]="PERF",R))(b||{}),v=(R=>(R.JSON="JSON",R.TEXT="TEXT",R))(v||{}),D=":",N=b,P=Object.keys(b).filter(R=>Number.isNaN(+R)),T=Symbol("apify.processed_error"),E=Be();function e(R,A,C="...[truncated]"){if(A=Math.floor(A),C.length>A)throw new Error("suffix string cannot be longer than maxLength");return typeof R=="string"&&R.length>A&&(R=R.substr(0,A-C.length)+C),R}c(e,"truncate");function y(){const R=l[E.APIFY_ENV_VARS.LOG_LEVEL];return R?Number.isFinite(+R)?+R:b[R]?b[R]:+R:4}c(y,"getLevelFromEnv");function O(){const R=l[E.APIFY_ENV_VARS.LOG_FORMAT]||"TEXT";switch(R.toLowerCase()){case"JSON".toLowerCase():return"JSON";case"TEXT".toLowerCase():return"TEXT";default:return console.warn(`Unknown value for environment variable ${E.APIFY_ENV_VARS.LOG_FORMAT}: ${R}`),"TEXT"}}c(O,"getFormatFromEnv");function w(R,A,C){if(typeof R=="string")return C&&R.length>C?e(R,C):R;if(["number","boolean","symbol","bigint"].includes(typeof R)||R==null||R instanceof Date)return R;if(R instanceof Error){const{name:j,message:W,stack:V,cause:k,...ne}=R;R={name:j,message:W,stack:V,cause:k,...ne,[T]:!0}}const M=c(j=>w(j,A-1,C),"nextCall");if(Array.isArray(R))return A?R.map(M):"[array]";if(typeof R=="object"&&R!==null)return A?c(W=>{const V={};return Reflect.ownKeys(W).forEach(k=>{V[k]=M(W[k])}),V},"mapObject")(R):"[object]";if(typeof R=="function")return"[function]";console.log(`WARNING: Object cannot be logged: ${R}`)}c(w,"limitDepth");var I=Qo(),$=class extends I.EventEmitter{constructor(A){super(),this.options=A}setOptions(A){this.options={...this.options,...A}}getOptions(){return this.options}_outputWithConsole(A,C){switch(A){case 1:console.error(C);break;case 3:console.warn(C);break;case 5:console.debug(C);break;default:console.log(C)}}_log(A,C,M,j,W={}){throw new Error("log() method must be implemented!")}log(A,C,...M){const j=this._log(A,C,...M);this.emit("line",j)}};c($,"Logger");var G=$,Z={skipLevelInfo:!1,skipTime:!1},_e=class extends G{constructor(A={}){super({...Z,...A})}_log(A,C,M,j,W={}){const{prefix:V,suffix:k}=W;j&&(M={...M,exception:j}),V&&(C=`${V}${D} ${C}`),k&&(C=`${C} ${k}`);const ne={time:this.options.skipTime?void 0:new Date,level:this.options.skipLevelInfo&&A===4?void 0:b[A],msg:C,...M},be=JSON.stringify(ne);return this._outputWithConsole(A,be),be}};c(_e,"LoggerJson");var ye=_e,U=d(zn()),ue=d(zn());function ce(R,A){for(let C=0;C<R.length-3;C++){const M=A.indexOf(R[C]);if(M!==-1){const j=A.length-M;if(j>3){let W=1;const V=Math.min(R.length-C,j);for(;V>W&&R[C+W]===A[M+W];)W++;if(W>3)return{len:W,offset:C}}}}return{len:0,offset:0}}c(ce,"identicalSequenceRange");function Ie(R){return R.stack?String(R.stack):Error.prototype.toString.call(R)}c(Ie,"getStackString");function pe(R,A){const C=A.split(`
`);let M;try{({cause:M}=R)}catch{}if(M!=null&&typeof M=="object"&&T in M){const j=Ie(M),W=j.indexOf(`
    at`);if(W!==-1){const V=j.slice(W+1).split(`
`),{len:k,offset:ne}=ce(C,V);if(k>0){const be=k-2,ke=`    ... ${be} lines matching cause stack trace ...`;C.splice(ne+1,be,ue.default.grey(ke))}}}return C}c(pe,"getStackFrames");var Fe={SOFT_FAIL:"SFAIL",WARNING:"WARN"},we={1:"red",2:"red",3:"yellow",4:"green",5:"blue",6:"magenta"},De=P.map(R=>Fe[R]||R),_t=Math.max(...De.map(R=>R.length)),q=c(R=>{let A="";for(let C=0;C<_t-R.length;C++)A+=" ";return A},"getLevelIndent"),qe={skipTime:!0},nt=class extends G{constructor(A={}){super({...qe,...A})}_log(A,C,M,j,W={}){let{prefix:V,suffix:k}=W,ne="";this.options.skipTime||(ne=`${new Date().toISOString().replace("Z","").replace("T"," ")} `);const be=j?this._parseException(j):"",ke=we[A],ut=De[A],Le=q(ut),X=M?` ${JSON.stringify(M)}`:"";V=V?` ${V}${D}`:"",k=k?` ${k}`:"";const Ge=`${U.default.gray(ne)}${U.default[ke](ut)}${Le}${U.default.yellow(V)} ${C||""}${U.default.gray(X)}${U.default.yellow(k)}${be}`;return this._outputWithConsole(A,Ge),Ge}_parseException(A,C=1){return["string","boolean","number","undefined","bigint"].includes(typeof A)?`
${A}`:A===null?`
null`:typeof A=="symbol"?`
${A.toString()}`:typeof A=="object"&&T in A?this._parseLoggerException(A,C):`
${JSON.stringify(A,null,2)}`}_parseLoggerException(A,C=1){const M=[];A.type&&M.push(`type=${A.type}`),A.details&&Object.entries(A.details).map(([k,ne])=>M.push(`${k}=${ne}`));const j=A.stack||A.reason||A.message,W=j===A.stack,V=pe(A,j);W&&(V[0]=A.message||V[0]),M.length&&(V[0]+=U.default.gray(`(details: ${M.join(", ")})`));for(let k=1;k<V.length;k++)V[k]=U.default.gray(V[k]);if(A.cause){const ne=this._parseException(A.cause,C+1).trim().split(`
`);V.push(U.default.red(`  CAUSE: ${U.default.reset(ne[0])}`),...ne.slice(1))}return`
${V.map(k=>`${" ".repeat(C*2)}${k}`).join(`
`)}`}};c(nt,"LoggerText");var de=nt,at=c(R=>{switch(R){case"JSON":return new ye;case"TEXT":default:return new de}},"getLoggerForFormat"),it=c(()=>({level:y(),maxDepth:4,maxStringLength:2e3,prefix:null,suffix:null,logger:at(O()),data:{}}),"getDefaultOptions"),Ve=class Pi{constructor(A={}){if(p(this,"LEVELS",b),p(this,"options"),p(this,"warningsOnceLogged",new Set),this.options={...it(),...A},!b[this.options.level])throw new Error('Options "level" must be one of log.LEVELS enum!');if(typeof this.options.maxDepth!="number")throw new Error('Options "maxDepth" must be a number!');if(typeof this.options.maxStringLength!="number")throw new Error('Options "maxStringLength" must be a number!');if(this.options.prefix&&typeof this.options.prefix!="string")throw new Error('Options "prefix" must be a string!');if(this.options.suffix&&typeof this.options.suffix!="string")throw new Error('Options "suffix" must be a string!');if(typeof this.options.logger!="object")throw new Error('Options "logger" must be an object!');if(typeof this.options.data!="object")throw new Error('Options "data" must be an object!')}_limitDepth(A){return w(A,this.options.maxDepth)}getLevel(){return this.options.level}setLevel(A){if(!b[A])throw new Error('Options "level" must be one of log.LEVELS enum!');this.options.level=A}internal(A,C,M,j){A>this.options.level||(M={...this.options.data,...M},M=Reflect.ownKeys(M).length>0?this._limitDepth(M):void 0,j=this._limitDepth(j),this.options.logger.log(A,C,M,j,{prefix:this.options.prefix,suffix:this.options.suffix}))}setOptions(A){this.options={...this.options,...A}}getOptions(){return{...this.options}}child(A){let{prefix:C}=this.options;A.prefix&&(C=C?`${C}${D}${A.prefix}`:A.prefix);const M=A.data?{...this.options.data,...A.data}:this.options.data,j={...this.options,...A,prefix:C,data:M};return new Pi(j)}error(A,C){this.internal(1,A,C)}exception(A,C,M){this.internal(1,C,M,A)}softFail(A,C){this.internal(2,A,C)}warning(A,C){this.internal(3,A,C)}info(A,C){this.internal(4,A,C)}debug(A,C){this.internal(5,A,C)}perf(A,C){this.internal(6,A,C)}warningOnce(A){this.warningsOnceLogged.has(A)||(this.warningsOnceLogged.add(A),this.warning(A))}deprecated(A){this.warningOnce(A)}};c(Ve,"Log");var Te=Ve,ot=new Te,st=ot;return _n}var pn={},Mr={exports:{}},Qn;function es(){if(Qn)return Mr.exports;Qn=1;const l=()=>{const n=Error.prepareStackTrace;Error.prepareStackTrace=(o,r)=>r;const u=new Error().stack.slice(1);return Error.prepareStackTrace=n,u};return Mr.exports=l,Mr.exports.default=l,Mr.exports}var At={},Zn;function ts(){if(Zn)return At;Zn=1,Object.defineProperty(At,"__esModule",{value:!0}),At.inferLabel=void 0;const l=()=>{};return At.inferLabel=l,At}var hn={},xr={exports:{}},ea;function ft(){return ea||(ea=1,function(l,n){Object.defineProperty(n,"__esModule",{value:!0});const u=["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function o(e){return u.includes(e)}const r=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Blob","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","FormData","URLSearchParams","HTMLElement",...u];function t(e){return r.includes(e)}const i=["null","undefined","string","number","bigint","boolean","symbol"];function s(e){return i.includes(e)}function c(e){return y=>typeof y===e}const{toString:g}=Object.prototype,_=e=>{const y=g.call(e).slice(8,-1);if(/HTML\w+Element/.test(y)&&a.domElement(e))return"HTMLElement";if(t(y))return y},d=e=>y=>_(y)===e;function a(e){if(e===null)return"null";switch(typeof e){case"undefined":return"undefined";case"string":return"string";case"number":return"number";case"boolean":return"boolean";case"function":return"Function";case"bigint":return"bigint";case"symbol":return"symbol"}if(a.observable(e))return"Observable";if(a.array(e))return"Array";if(a.buffer(e))return"Buffer";const y=_(e);if(y)return y;if(e instanceof String||e instanceof Boolean||e instanceof Number)throw new TypeError("Please don't use object wrappers for primitive types");return"Object"}a.undefined=c("undefined"),a.string=c("string");const p=c("number");a.number=e=>p(e)&&!a.nan(e),a.bigint=c("bigint"),a.function_=c("function"),a.null_=e=>e===null,a.class_=e=>a.function_(e)&&e.toString().startsWith("class "),a.boolean=e=>e===!0||e===!1,a.symbol=c("symbol"),a.numericString=e=>a.string(e)&&!a.emptyStringOrWhitespace(e)&&!Number.isNaN(Number(e)),a.array=(e,y)=>Array.isArray(e)?a.function_(y)?e.every(y):!0:!1,a.buffer=e=>{var y,O,w,I;return(I=(w=(O=(y=e)===null||y===void 0?void 0:y.constructor)===null||O===void 0?void 0:O.isBuffer)===null||w===void 0?void 0:w.call(O,e))!==null&&I!==void 0?I:!1},a.blob=e=>d("Blob")(e),a.nullOrUndefined=e=>a.null_(e)||a.undefined(e),a.object=e=>!a.null_(e)&&(typeof e=="object"||a.function_(e)),a.iterable=e=>{var y;return a.function_((y=e)===null||y===void 0?void 0:y[Symbol.iterator])},a.asyncIterable=e=>{var y;return a.function_((y=e)===null||y===void 0?void 0:y[Symbol.asyncIterator])},a.generator=e=>{var y,O;return a.iterable(e)&&a.function_((y=e)===null||y===void 0?void 0:y.next)&&a.function_((O=e)===null||O===void 0?void 0:O.throw)},a.asyncGenerator=e=>a.asyncIterable(e)&&a.function_(e.next)&&a.function_(e.throw),a.nativePromise=e=>d("Promise")(e);const h=e=>{var y,O;return a.function_((y=e)===null||y===void 0?void 0:y.then)&&a.function_((O=e)===null||O===void 0?void 0:O.catch)};a.promise=e=>a.nativePromise(e)||h(e),a.generatorFunction=d("GeneratorFunction"),a.asyncGeneratorFunction=e=>_(e)==="AsyncGeneratorFunction",a.asyncFunction=e=>_(e)==="AsyncFunction",a.boundFunction=e=>a.function_(e)&&!e.hasOwnProperty("prototype"),a.regExp=d("RegExp"),a.date=d("Date"),a.error=d("Error"),a.map=e=>d("Map")(e),a.set=e=>d("Set")(e),a.weakMap=e=>d("WeakMap")(e),a.weakSet=e=>d("WeakSet")(e),a.int8Array=d("Int8Array"),a.uint8Array=d("Uint8Array"),a.uint8ClampedArray=d("Uint8ClampedArray"),a.int16Array=d("Int16Array"),a.uint16Array=d("Uint16Array"),a.int32Array=d("Int32Array"),a.uint32Array=d("Uint32Array"),a.float32Array=d("Float32Array"),a.float64Array=d("Float64Array"),a.bigInt64Array=d("BigInt64Array"),a.bigUint64Array=d("BigUint64Array"),a.arrayBuffer=d("ArrayBuffer"),a.sharedArrayBuffer=d("SharedArrayBuffer"),a.dataView=d("DataView"),a.enumCase=(e,y)=>Object.values(y).includes(e),a.directInstanceOf=(e,y)=>Object.getPrototypeOf(e)===y.prototype,a.urlInstance=e=>d("URL")(e),a.urlString=e=>{if(!a.string(e))return!1;try{return new URL(e),!0}catch{return!1}},a.truthy=e=>!!e,a.falsy=e=>!e,a.nan=e=>Number.isNaN(e),a.primitive=e=>a.null_(e)||s(typeof e),a.integer=e=>Number.isInteger(e),a.safeInteger=e=>Number.isSafeInteger(e),a.plainObject=e=>{if(g.call(e)!=="[object Object]")return!1;const y=Object.getPrototypeOf(e);return y===null||y===Object.getPrototypeOf({})},a.typedArray=e=>o(_(e));const b=e=>a.safeInteger(e)&&e>=0;a.arrayLike=e=>!a.nullOrUndefined(e)&&!a.function_(e)&&b(e.length),a.inRange=(e,y)=>{if(a.number(y))return e>=Math.min(0,y)&&e<=Math.max(y,0);if(a.array(y)&&y.length===2)return e>=Math.min(...y)&&e<=Math.max(...y);throw new TypeError(`Invalid range: ${JSON.stringify(y)}`)};const v=1,D=["innerHTML","ownerDocument","style","attributes","nodeValue"];a.domElement=e=>a.object(e)&&e.nodeType===v&&a.string(e.nodeName)&&!a.plainObject(e)&&D.every(y=>y in e),a.observable=e=>{var y,O,w,I;return e?e===((O=(y=e)[Symbol.observable])===null||O===void 0?void 0:O.call(y))||e===((I=(w=e)["@@observable"])===null||I===void 0?void 0:I.call(w)):!1},a.nodeStream=e=>a.object(e)&&a.function_(e.pipe)&&!a.observable(e),a.infinite=e=>e===1/0||e===-1/0;const N=e=>y=>a.integer(y)&&Math.abs(y%2)===e;a.evenInteger=N(0),a.oddInteger=N(1),a.emptyArray=e=>a.array(e)&&e.length===0,a.nonEmptyArray=e=>a.array(e)&&e.length>0,a.emptyString=e=>a.string(e)&&e.length===0;const P=e=>a.string(e)&&!/\S/.test(e);a.emptyStringOrWhitespace=e=>a.emptyString(e)||P(e),a.nonEmptyString=e=>a.string(e)&&e.length>0,a.nonEmptyStringAndNotWhitespace=e=>a.string(e)&&!a.emptyStringOrWhitespace(e),a.emptyObject=e=>a.object(e)&&!a.map(e)&&!a.set(e)&&Object.keys(e).length===0,a.nonEmptyObject=e=>a.object(e)&&!a.map(e)&&!a.set(e)&&Object.keys(e).length>0,a.emptySet=e=>a.set(e)&&e.size===0,a.nonEmptySet=e=>a.set(e)&&e.size>0,a.emptyMap=e=>a.map(e)&&e.size===0,a.nonEmptyMap=e=>a.map(e)&&e.size>0,a.propertyKey=e=>a.any([a.string,a.number,a.symbol],e),a.formData=e=>d("FormData")(e),a.urlSearchParams=e=>d("URLSearchParams")(e);const T=(e,y,O)=>{if(!a.function_(y))throw new TypeError(`Invalid predicate: ${JSON.stringify(y)}`);if(O.length===0)throw new TypeError("Invalid number of values");return e.call(O,y)};a.any=(e,...y)=>(a.array(e)?e:[e]).some(w=>T(Array.prototype.some,w,y)),a.all=(e,...y)=>T(Array.prototype.every,e,y);const E=(e,y,O,w={})=>{if(!e){const{multipleValues:I}=w,$=I?`received values of types ${[...new Set(O.map(G=>`\`${a(G)}\``))].join(", ")}`:`received value of type \`${a(O)}\``;throw new TypeError(`Expected value which is \`${y}\`, ${$}.`)}};n.assert={undefined:e=>E(a.undefined(e),"undefined",e),string:e=>E(a.string(e),"string",e),number:e=>E(a.number(e),"number",e),bigint:e=>E(a.bigint(e),"bigint",e),function_:e=>E(a.function_(e),"Function",e),null_:e=>E(a.null_(e),"null",e),class_:e=>E(a.class_(e),"Class",e),boolean:e=>E(a.boolean(e),"boolean",e),symbol:e=>E(a.symbol(e),"symbol",e),numericString:e=>E(a.numericString(e),"string with a number",e),array:(e,y)=>{E(a.array(e),"Array",e),y&&e.forEach(y)},buffer:e=>E(a.buffer(e),"Buffer",e),blob:e=>E(a.blob(e),"Blob",e),nullOrUndefined:e=>E(a.nullOrUndefined(e),"null or undefined",e),object:e=>E(a.object(e),"Object",e),iterable:e=>E(a.iterable(e),"Iterable",e),asyncIterable:e=>E(a.asyncIterable(e),"AsyncIterable",e),generator:e=>E(a.generator(e),"Generator",e),asyncGenerator:e=>E(a.asyncGenerator(e),"AsyncGenerator",e),nativePromise:e=>E(a.nativePromise(e),"native Promise",e),promise:e=>E(a.promise(e),"Promise",e),generatorFunction:e=>E(a.generatorFunction(e),"GeneratorFunction",e),asyncGeneratorFunction:e=>E(a.asyncGeneratorFunction(e),"AsyncGeneratorFunction",e),asyncFunction:e=>E(a.asyncFunction(e),"AsyncFunction",e),boundFunction:e=>E(a.boundFunction(e),"Function",e),regExp:e=>E(a.regExp(e),"RegExp",e),date:e=>E(a.date(e),"Date",e),error:e=>E(a.error(e),"Error",e),map:e=>E(a.map(e),"Map",e),set:e=>E(a.set(e),"Set",e),weakMap:e=>E(a.weakMap(e),"WeakMap",e),weakSet:e=>E(a.weakSet(e),"WeakSet",e),int8Array:e=>E(a.int8Array(e),"Int8Array",e),uint8Array:e=>E(a.uint8Array(e),"Uint8Array",e),uint8ClampedArray:e=>E(a.uint8ClampedArray(e),"Uint8ClampedArray",e),int16Array:e=>E(a.int16Array(e),"Int16Array",e),uint16Array:e=>E(a.uint16Array(e),"Uint16Array",e),int32Array:e=>E(a.int32Array(e),"Int32Array",e),uint32Array:e=>E(a.uint32Array(e),"Uint32Array",e),float32Array:e=>E(a.float32Array(e),"Float32Array",e),float64Array:e=>E(a.float64Array(e),"Float64Array",e),bigInt64Array:e=>E(a.bigInt64Array(e),"BigInt64Array",e),bigUint64Array:e=>E(a.bigUint64Array(e),"BigUint64Array",e),arrayBuffer:e=>E(a.arrayBuffer(e),"ArrayBuffer",e),sharedArrayBuffer:e=>E(a.sharedArrayBuffer(e),"SharedArrayBuffer",e),dataView:e=>E(a.dataView(e),"DataView",e),enumCase:(e,y)=>E(a.enumCase(e,y),"EnumCase",e),urlInstance:e=>E(a.urlInstance(e),"URL",e),urlString:e=>E(a.urlString(e),"string with a URL",e),truthy:e=>E(a.truthy(e),"truthy",e),falsy:e=>E(a.falsy(e),"falsy",e),nan:e=>E(a.nan(e),"NaN",e),primitive:e=>E(a.primitive(e),"primitive",e),integer:e=>E(a.integer(e),"integer",e),safeInteger:e=>E(a.safeInteger(e),"integer",e),plainObject:e=>E(a.plainObject(e),"plain object",e),typedArray:e=>E(a.typedArray(e),"TypedArray",e),arrayLike:e=>E(a.arrayLike(e),"array-like",e),domElement:e=>E(a.domElement(e),"HTMLElement",e),observable:e=>E(a.observable(e),"Observable",e),nodeStream:e=>E(a.nodeStream(e),"Node.js Stream",e),infinite:e=>E(a.infinite(e),"infinite number",e),emptyArray:e=>E(a.emptyArray(e),"empty array",e),nonEmptyArray:e=>E(a.nonEmptyArray(e),"non-empty array",e),emptyString:e=>E(a.emptyString(e),"empty string",e),emptyStringOrWhitespace:e=>E(a.emptyStringOrWhitespace(e),"empty string or whitespace",e),nonEmptyString:e=>E(a.nonEmptyString(e),"non-empty string",e),nonEmptyStringAndNotWhitespace:e=>E(a.nonEmptyStringAndNotWhitespace(e),"non-empty string and not whitespace",e),emptyObject:e=>E(a.emptyObject(e),"empty object",e),nonEmptyObject:e=>E(a.nonEmptyObject(e),"non-empty object",e),emptySet:e=>E(a.emptySet(e),"empty set",e),nonEmptySet:e=>E(a.nonEmptySet(e),"non-empty set",e),emptyMap:e=>E(a.emptyMap(e),"empty map",e),nonEmptyMap:e=>E(a.nonEmptyMap(e),"non-empty map",e),propertyKey:e=>E(a.propertyKey(e),"PropertyKey",e),formData:e=>E(a.formData(e),"FormData",e),urlSearchParams:e=>E(a.urlSearchParams(e),"URLSearchParams",e),evenInteger:e=>E(a.evenInteger(e),"even integer",e),oddInteger:e=>E(a.oddInteger(e),"odd integer",e),directInstanceOf:(e,y)=>E(a.directInstanceOf(e,y),"T",e),inRange:(e,y)=>E(a.inRange(e,y),"in range",e),any:(e,...y)=>E(a.any(e,...y),"predicate returns truthy for any value",y,{multipleValues:!0}),all:(e,...y)=>E(a.all(e,...y),"predicate returns truthy for all values",y,{multipleValues:!0})},Object.defineProperties(a,{class:{value:a.class_},function:{value:a.function_},null:{value:a.null_}}),Object.defineProperties(n.assert,{class:{value:n.assert.class_},function:{value:n.assert.function_},null:{value:n.assert.null_}}),n.default=a,l.exports=a,l.exports.default=a,l.exports.assert=n.assert}(xr,xr.exports)),xr.exports}var Tt={},Rt={},ta;function rs(){if(ta)return Rt;ta=1,Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.generateStackTrace=void 0;const l=()=>new RangeError("INTERNAL_OW_ERROR").stack;return Rt.generateStackTrace=l,Rt}var ra;function wn(){if(ra)return Tt;ra=1,Object.defineProperty(Tt,"__esModule",{value:!0}),Tt.ArgumentError=void 0;const l=rs(),n=(o,r)=>`${o.name}: ${o.message}
${r}`;class u extends Error{constructor(r,t,i=new Map){super(r),Object.defineProperty(this,"validationErrors",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="ArgumentError",Error.captureStackTrace?Error.captureStackTrace(this,t):this.stack=n(this,(0,l.generateStackTrace)()),this.validationErrors=i}}return Tt.ArgumentError=u,Tt}var St={},jr={},na;function ns(){return na||(na=1,Object.defineProperty(jr,"__esModule",{value:!0}),jr.default=()=>Math.random().toString(16).slice(2)),jr}var aa;function as(){if(aa)return St;aa=1,Object.defineProperty(St,"__esModule",{value:!0}),St.not=void 0;const l=ns(),n=re(),u=o=>{const r=o.addValidator;return o.addValidator=t=>{const{validator:i,message:s,negatedMessage:c}=t,g=(0,l.default)();return t.message=(_,d)=>c?c(_,d):s(_,g).replace(/ to /,"$&not ").replace(g,d),t.validator=_=>!i(_),o[n.validatorSymbol].push(t),o.addValidator=r,o},o};return St.not=u,St}var gn={},ia;function mr(){return ia||(ia=1,function(l){Object.defineProperty(l,"__esModule",{value:!0}),l.isPredicate=l.testSymbol=void 0,l.testSymbol=Symbol("test");const n=u=>!!u[l.testSymbol];l.isPredicate=n}(gn)),gn}var Ot={},oa;function Ii(){if(oa)return Ot;oa=1,Object.defineProperty(Ot,"__esModule",{value:!0}),Ot.generateArgumentErrorMessage=void 0;const l=(n,u=!1)=>{const o=[],r=[...n.entries()],t=r.some(([,i])=>i.size!==1);if(r.length===1){const[,i]=r[0];if(!u&&i.size===1){const[s]=i;return s}for(const s of i)o.push(`${u?"  - ":""}${s}`);return o.join(`
`)}if(!t)return r.map(([,[i]])=>`  - ${i}`).join(`
`);for(const[i,s]of r){o.push(`Errors from the "${i}" predicate:`);for(const c of s)o.push(`  - ${c}`)}return o.join(`
`)};return Ot.generateArgumentErrorMessage=l,Ot}var sa;function re(){return sa||(sa=1,function(l){Object.defineProperty(l,"__esModule",{value:!0}),l.Predicate=l.validatorSymbol=void 0;const n=ft(),u=wn(),o=as(),r=mr(),t=Ii();l.validatorSymbol=Symbol("validators");class i{constructor(c,g={}){Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:c}),Object.defineProperty(this,"options",{enumerable:!0,configurable:!0,writable:!0,value:g}),Object.defineProperty(this,"context",{enumerable:!0,configurable:!0,writable:!0,value:{validators:[]}}),this.context={...this.context,...this.options};const _=this.type.charAt(0).toLowerCase()+this.type.slice(1);this.addValidator({message:(d,a)=>`Expected ${(a==null?void 0:a.slice(this.type.length+1))||"argument"} to be of type \`${this.type}\` but received type \`${(0,n.default)(d)}\``,validator:d=>n.default[_](d)})}[r.testSymbol](c,g,_,d){const a=new Map;for(const{validator:p,message:h}of this.context.validators){if(this.options.optional===!0&&c===void 0)continue;let b;try{b=p(c)}catch(e){b=e}if(b===!0)continue;const v=n.default.function_(_)?_():_,D=v&&d?`\`${v}\``:v,N=D?`${this.type} ${D}`:this.type,P=v||this.type,T=a.get(P),E=h(c,N,b);T?T.add(E):a.set(P,new Set([E]))}if(a.size>0){const p=(0,t.generateArgumentErrorMessage)(a);throw new u.ArgumentError(p,g,a)}}get[l.validatorSymbol](){return this.context.validators}get not(){return(0,o.not)(this)}validate(c){return this.addValidator({message:(g,_,d)=>typeof d=="string"?`(${_}) ${d}`:d(_),validator:g=>{const{message:_,validator:d}=c(g);return d?!0:_}})}is(c){return this.addValidator({message:(g,_,d)=>d?`(${_}) ${d}`:`Expected ${_} \`${g}\` to pass custom validation function`,validator:c})}message(c){const{validators:g}=this.context;return g[g.length-1].message=(_,d)=>typeof c=="function"?c(_,d):c,this}addValidator(c){return this.context.validators.push(c),this}}l.Predicate=i}(hn)),hn}var Br={},En={},vt={},mn,ua;function is(){return ua||(ua=1,mn=function(l){return!isNaN(Date.parse(l))}),mn}var la;function os(){if(la)return vt;la=1,Object.defineProperty(vt,"__esModule",{value:!0}),vt.StringPredicate=void 0;const l=ft(),n=is(),u=re();class o extends u.Predicate{constructor(t){super("string",t)}length(t){return this.addValidator({message:(i,s)=>`Expected ${s} to have length \`${t}\`, got \`${i}\``,validator:i=>i.length===t})}minLength(t){return this.addValidator({message:(i,s)=>`Expected ${s} to have a minimum length of \`${t}\`, got \`${i}\``,validator:i=>i.length>=t,negatedMessage:(i,s)=>`Expected ${s} to have a maximum length of \`${t-1}\`, got \`${i}\``})}maxLength(t){return this.addValidator({message:(i,s)=>`Expected ${s} to have a maximum length of \`${t}\`, got \`${i}\``,validator:i=>i.length<=t,negatedMessage:(i,s)=>`Expected ${s} to have a minimum length of \`${t+1}\`, got \`${i}\``})}matches(t){return this.addValidator({message:(i,s)=>`Expected ${s} to match \`${t}\`, got \`${i}\``,validator:i=>t.test(i)})}startsWith(t){return this.addValidator({message:(i,s)=>`Expected ${s} to start with \`${t}\`, got \`${i}\``,validator:i=>i.startsWith(t)})}endsWith(t){return this.addValidator({message:(i,s)=>`Expected ${s} to end with \`${t}\`, got \`${i}\``,validator:i=>i.endsWith(t)})}includes(t){return this.addValidator({message:(i,s)=>`Expected ${s} to include \`${t}\`, got \`${i}\``,validator:i=>i.includes(t)})}oneOf(t){return this.addValidator({message:(i,s)=>{let c=JSON.stringify(t);if(t.length>10){const g=t.length-10;c=JSON.stringify(t.slice(0,10)).replace(/]$/,`,…+${g} more]`)}return`Expected ${s} to be one of \`${c}\`, got \`${i}\``},validator:i=>t.includes(i)})}get empty(){return this.addValidator({message:(t,i)=>`Expected ${i} to be empty, got \`${t}\``,validator:t=>t===""})}get nonEmpty(){return this.addValidator({message:(t,i)=>`Expected ${i} to not be empty`,validator:t=>t!==""})}equals(t){return this.addValidator({message:(i,s)=>`Expected ${s} to be equal to \`${t}\`, got \`${i}\``,validator:i=>i===t})}get alphanumeric(){return this.addValidator({message:(t,i)=>`Expected ${i} to be alphanumeric, got \`${t}\``,validator:t=>/^[a-z\d]+$/i.test(t)})}get alphabetical(){return this.addValidator({message:(t,i)=>`Expected ${i} to be alphabetical, got \`${t}\``,validator:t=>/^[a-z]+$/gi.test(t)})}get numeric(){return this.addValidator({message:(t,i)=>`Expected ${i} to be numeric, got \`${t}\``,validator:t=>/^[+-]?\d+$/i.test(t)})}get date(){return this.addValidator({message:(t,i)=>`Expected ${i} to be a date, got \`${t}\``,validator:n})}get lowercase(){return this.addValidator({message:(t,i)=>`Expected ${i} to be lowercase, got \`${t}\``,validator:t=>t.trim()!==""&&t===t.toLowerCase()})}get uppercase(){return this.addValidator({message:(t,i)=>`Expected ${i} to be uppercase, got \`${t}\``,validator:t=>t.trim()!==""&&t===t.toUpperCase()})}get url(){return this.addValidator({message:(t,i)=>`Expected ${i} to be a URL, got \`${t}\``,validator:l.default.urlString})}}return vt.StringPredicate=o,vt}var Ct={},ca;function ss(){if(ca)return Ct;ca=1,Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.NumberPredicate=void 0;const l=ft(),n=re();class u extends n.Predicate{constructor(r){super("number",r)}inRange(r,t){return this.addValidator({message:(i,s)=>`Expected ${s} to be in range [${r}..${t}], got ${i}`,validator:i=>l.default.inRange(i,[r,t])})}greaterThan(r){return this.addValidator({message:(t,i)=>`Expected ${i} to be greater than ${r}, got ${t}`,validator:t=>t>r})}greaterThanOrEqual(r){return this.addValidator({message:(t,i)=>`Expected ${i} to be greater than or equal to ${r}, got ${t}`,validator:t=>t>=r})}lessThan(r){return this.addValidator({message:(t,i)=>`Expected ${i} to be less than ${r}, got ${t}`,validator:t=>t<r})}lessThanOrEqual(r){return this.addValidator({message:(t,i)=>`Expected ${i} to be less than or equal to ${r}, got ${t}`,validator:t=>t<=r})}equal(r){return this.addValidator({message:(t,i)=>`Expected ${i} to be equal to ${r}, got ${t}`,validator:t=>t===r})}oneOf(r){return this.addValidator({message:(t,i)=>{let s=JSON.stringify(r);if(r.length>10){const c=r.length-10;s=JSON.stringify(r.slice(0,10)).replace(/]$/,`,…+${c} more]`)}return`Expected ${i} to be one of \`${s}\`, got ${t}`},validator:t=>r.includes(t)})}get integer(){return this.addValidator({message:(r,t)=>`Expected ${t} to be an integer, got ${r}`,validator:r=>l.default.integer(r)})}get finite(){return this.addValidator({message:(r,t)=>`Expected ${t} to be finite, got ${r}`,validator:r=>!l.default.infinite(r)})}get infinite(){return this.addValidator({message:(r,t)=>`Expected ${t} to be infinite, got ${r}`,validator:r=>l.default.infinite(r)})}get positive(){return this.addValidator({message:(r,t)=>`Expected ${t} to be positive, got ${r}`,validator:r=>r>0})}get negative(){return this.addValidator({message:(r,t)=>`Expected ${t} to be negative, got ${r}`,validator:r=>r<0})}get integerOrInfinite(){return this.addValidator({message:(r,t)=>`Expected ${t} to be an integer or infinite, got ${r}`,validator:r=>l.default.integer(r)||l.default.infinite(r)})}get uint8(){return this.integer.inRange(0,255)}get uint16(){return this.integer.inRange(0,65535)}get uint32(){return this.integer.inRange(0,4294967295)}get int8(){return this.integer.inRange(-128,127)}get int16(){return this.integer.inRange(-32768,32767)}get int32(){return this.integer.inRange(-2147483648,2147483647)}}return Ct.NumberPredicate=u,Ct}var Pt={},da;function us(){if(da)return Pt;da=1,Object.defineProperty(Pt,"__esModule",{value:!0}),Pt.BigIntPredicate=void 0;const l=re();class n extends l.Predicate{constructor(o){super("bigint",o)}}return Pt.BigIntPredicate=n,Pt}var It={},fa;function ls(){if(fa)return It;fa=1,Object.defineProperty(It,"__esModule",{value:!0}),It.BooleanPredicate=void 0;const l=re();class n extends l.Predicate{constructor(o){super("boolean",o)}get true(){return this.addValidator({message:(o,r)=>`Expected ${r} to be true, got ${o}`,validator:o=>o})}get false(){return this.addValidator({message:(o,r)=>`Expected ${r} to be false, got ${o}`,validator:o=>!o})}}return It.BooleanPredicate=n,It}var wt={},Er={exports:{}};Er.exports;var _a;function Wr(){return _a||(_a=1,function(l,n){var u=200,o="__lodash_hash_undefined__",r=1,t=2,i=9007199254740991,s="[object Arguments]",c="[object Array]",g="[object AsyncFunction]",_="[object Boolean]",d="[object Date]",a="[object Error]",p="[object Function]",h="[object GeneratorFunction]",b="[object Map]",v="[object Number]",D="[object Null]",N="[object Object]",P="[object Promise]",T="[object Proxy]",E="[object RegExp]",e="[object Set]",y="[object String]",O="[object Symbol]",w="[object Undefined]",I="[object WeakMap]",$="[object ArrayBuffer]",G="[object DataView]",Z="[object Float32Array]",_e="[object Float64Array]",ye="[object Int8Array]",U="[object Int16Array]",ue="[object Int32Array]",ce="[object Uint8Array]",Ie="[object Uint8ClampedArray]",pe="[object Uint16Array]",Fe="[object Uint32Array]",we=/[\\^$.*+?()[\]{}|]/g,De=/^\[object .+?Constructor\]$/,_t=/^(?:0|[1-9]\d*)$/,q={};q[Z]=q[_e]=q[ye]=q[U]=q[ue]=q[ce]=q[Ie]=q[pe]=q[Fe]=!0,q[s]=q[c]=q[$]=q[_]=q[G]=q[d]=q[a]=q[p]=q[b]=q[v]=q[N]=q[E]=q[e]=q[y]=q[I]=!1;var qe=typeof je=="object"&&je&&je.Object===Object&&je,nt=typeof self=="object"&&self&&self.Object===Object&&self,de=qe||nt||Function("return this")(),at=n&&!n.nodeType&&n,it=at&&!0&&l&&!l.nodeType&&l,Ve=it&&it.exports===at,Te=Ve&&qe.process,ot=function(){try{return Te&&Te.binding&&Te.binding("util")}catch{}}(),st=ot&&ot.isTypedArray;function R(f,m){for(var S=-1,L=f==null?0:f.length,K=0,x=[];++S<L;){var Q=f[S];m(Q,S,f)&&(x[K++]=Q)}return x}function A(f,m){for(var S=-1,L=m.length,K=f.length;++S<L;)f[K+S]=m[S];return f}function C(f,m){for(var S=-1,L=f==null?0:f.length;++S<L;)if(m(f[S],S,f))return!0;return!1}function M(f,m){for(var S=-1,L=Array(f);++S<f;)L[S]=m(S);return L}function j(f){return function(m){return f(m)}}function W(f,m){return f.has(m)}function V(f,m){return f==null?void 0:f[m]}function k(f){var m=-1,S=Array(f.size);return f.forEach(function(L,K){S[++m]=[K,L]}),S}function ne(f,m){return function(S){return f(m(S))}}function be(f){var m=-1,S=Array(f.size);return f.forEach(function(L){S[++m]=L}),S}var ke=Array.prototype,ut=Function.prototype,Le=Object.prototype,X=de["__core-js_shared__"],Ge=ut.toString,z=Le.hasOwnProperty,br=function(){var f=/[^.]+$/.exec(X&&X.keys&&X.keys.IE_PROTO||"");return f?"Symbol(src)_1."+f:""}(),Ar=Le.toString,Zr=RegExp("^"+Ge.call(z).replace(we,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ne=Ve?de.Buffer:void 0,lt=de.Symbol,Tr=de.Uint8Array,Re=Le.propertyIsEnumerable,Rr=ke.splice,Se=lt?lt.toStringTag:void 0,Sr=Object.getOwnPropertySymbols,en=Ne?Ne.isBuffer:void 0,Or=ne(Object.keys,Object),pt=dt(de,"DataView"),Ye=dt(de,"Map"),ht=dt(de,"Promise"),gt=dt(de,"Set"),H=dt(de,"WeakMap"),We=dt(Object,"create"),tn=Xe(pt),rn=Xe(Ye),nn=Xe(ht),an=Xe(gt),Ue=Xe(H),vr=lt?lt.prototype:void 0,Et=vr?vr.valueOf:void 0;function Oe(f){var m=-1,S=f==null?0:f.length;for(this.clear();++m<S;){var L=f[m];this.set(L[0],L[1])}}function on(){this.__data__=We?We(null):{},this.size=0}function sn(f){var m=this.has(f)&&delete this.__data__[f];return this.size-=m?1:0,m}function un(f){var m=this.__data__;if(We){var S=m[f];return S===o?void 0:S}return z.call(m,f)?m[f]:void 0}function ln(f){var m=this.__data__;return We?m[f]!==void 0:z.call(m,f)}function ve(f,m){var S=this.__data__;return this.size+=this.has(f)?0:1,S[f]=We&&m===void 0?o:m,this}Oe.prototype.clear=on,Oe.prototype.delete=sn,Oe.prototype.get=un,Oe.prototype.has=ln,Oe.prototype.set=ve;function ee(f){var m=-1,S=f==null?0:f.length;for(this.clear();++m<S;){var L=f[m];this.set(L[0],L[1])}}function ct(){this.__data__=[],this.size=0}function Cr(f){var m=this.__data__,S=Ir(m,f);if(S<0)return!1;var L=m.length-1;return S==L?m.pop():Rr.call(m,S,1),--this.size,!0}function Ke(f){var m=this.__data__,S=Ir(m,f);return S<0?void 0:m[S][1]}function Ji(f){return Ir(this.__data__,f)>-1}function Qi(f,m){var S=this.__data__,L=Ir(S,f);return L<0?(++this.size,S.push([f,m])):S[L][1]=m,this}ee.prototype.clear=ct,ee.prototype.delete=Cr,ee.prototype.get=Ke,ee.prototype.has=Ji,ee.prototype.set=Qi;function He(f){var m=-1,S=f==null?0:f.length;for(this.clear();++m<S;){var L=f[m];this.set(L[0],L[1])}}function Zi(){this.size=0,this.__data__={hash:new Oe,map:new(Ye||ee),string:new Oe}}function eo(f){var m=wr(this,f).delete(f);return this.size-=m?1:0,m}function to(f){return wr(this,f).get(f)}function ro(f){return wr(this,f).has(f)}function no(f,m){var S=wr(this,f),L=S.size;return S.set(f,m),this.size+=S.size==L?0:1,this}He.prototype.clear=Zi,He.prototype.delete=eo,He.prototype.get=to,He.prototype.has=ro,He.prototype.set=no;function Pr(f){var m=-1,S=f==null?0:f.length;for(this.__data__=new He;++m<S;)this.add(f[m])}function ao(f){return this.__data__.set(f,o),this}function io(f){return this.__data__.has(f)}Pr.prototype.add=Pr.prototype.push=ao,Pr.prototype.has=io;function $e(f){var m=this.__data__=new ee(f);this.size=m.size}function oo(){this.__data__=new ee,this.size=0}function so(f){var m=this.__data__,S=m.delete(f);return this.size=m.size,S}function uo(f){return this.__data__.get(f)}function lo(f){return this.__data__.has(f)}function co(f,m){var S=this.__data__;if(S instanceof ee){var L=S.__data__;if(!Ye||L.length<u-1)return L.push([f,m]),this.size=++S.size,this;S=this.__data__=new He(L)}return S.set(f,m),this.size=S.size,this}$e.prototype.clear=oo,$e.prototype.delete=so,$e.prototype.get=uo,$e.prototype.has=lo,$e.prototype.set=co;function fo(f,m){var S=Dr(f),L=!S&&Co(f),K=!S&&!L&&cn(f),x=!S&&!L&&!K&&Gn(f),Q=S||L||K||x,te=Q?M(f.length,String):[],ae=te.length;for(var J in f)z.call(f,J)&&!(Q&&(J=="length"||K&&(J=="offset"||J=="parent")||x&&(J=="buffer"||J=="byteLength"||J=="byteOffset")||To(J,ae)))&&te.push(J);return te}function Ir(f,m){for(var S=f.length;S--;)if(Fn(f[S][0],m))return S;return-1}function _o(f,m,S){var L=m(f);return Dr(f)?L:A(L,S(f))}function mt(f){return f==null?f===void 0?w:D:Se&&Se in Object(f)?bo(f):vo(f)}function Mn(f){return yt(f)&&mt(f)==s}function xn(f,m,S,L,K){return f===m?!0:f==null||m==null||!yt(f)&&!yt(m)?f!==f&&m!==m:po(f,m,S,L,xn,K)}function po(f,m,S,L,K,x){var Q=Dr(f),te=Dr(m),ae=Q?c:Me(f),J=te?c:Me(m);ae=ae==s?N:ae,J=J==s?N:J;var he=ae==N,Ae=J==N,le=ae==J;if(le&&cn(f)){if(!cn(m))return!1;Q=!0,he=!1}if(le&&!he)return x||(x=new $e),Q||Gn(f)?jn(f,m,S,L,K,x):mo(f,m,ae,S,L,K,x);if(!(S&r)){var Ee=he&&z.call(f,"__wrapped__"),me=Ae&&z.call(m,"__wrapped__");if(Ee||me){var xe=Ee?f.value():f,Ce=me?m.value():m;return x||(x=new $e),K(xe,Ce,S,L,x)}}return le?(x||(x=new $e),yo(f,m,S,L,K,x)):!1}function ho(f){if(!kn(f)||So(f))return!1;var m=qn(f)?Zr:De;return m.test(Xe(f))}function go(f){return yt(f)&&Vn(f.length)&&!!q[mt(f)]}function Eo(f){if(!Oo(f))return Or(f);var m=[];for(var S in Object(f))z.call(f,S)&&S!="constructor"&&m.push(S);return m}function jn(f,m,S,L,K,x){var Q=S&r,te=f.length,ae=m.length;if(te!=ae&&!(Q&&ae>te))return!1;var J=x.get(f);if(J&&x.get(m))return J==m;var he=-1,Ae=!0,le=S&t?new Pr:void 0;for(x.set(f,m),x.set(m,f);++he<te;){var Ee=f[he],me=m[he];if(L)var xe=Q?L(me,Ee,he,m,f,x):L(Ee,me,he,f,m,x);if(xe!==void 0){if(xe)continue;Ae=!1;break}if(le){if(!C(m,function(Ce,ze){if(!W(le,ze)&&(Ee===Ce||K(Ee,Ce,S,L,x)))return le.push(ze)})){Ae=!1;break}}else if(!(Ee===me||K(Ee,me,S,L,x))){Ae=!1;break}}return x.delete(f),x.delete(m),Ae}function mo(f,m,S,L,K,x,Q){switch(S){case G:if(f.byteLength!=m.byteLength||f.byteOffset!=m.byteOffset)return!1;f=f.buffer,m=m.buffer;case $:return!(f.byteLength!=m.byteLength||!x(new Tr(f),new Tr(m)));case _:case d:case v:return Fn(+f,+m);case a:return f.name==m.name&&f.message==m.message;case E:case y:return f==m+"";case b:var te=k;case e:var ae=L&r;if(te||(te=be),f.size!=m.size&&!ae)return!1;var J=Q.get(f);if(J)return J==m;L|=t,Q.set(f,m);var he=jn(te(f),te(m),L,K,x,Q);return Q.delete(f),he;case O:if(Et)return Et.call(f)==Et.call(m)}return!1}function yo(f,m,S,L,K,x){var Q=S&r,te=Bn(f),ae=te.length,J=Bn(m),he=J.length;if(ae!=he&&!Q)return!1;for(var Ae=ae;Ae--;){var le=te[Ae];if(!(Q?le in m:z.call(m,le)))return!1}var Ee=x.get(f);if(Ee&&x.get(m))return Ee==m;var me=!0;x.set(f,m),x.set(m,f);for(var xe=Q;++Ae<ae;){le=te[Ae];var Ce=f[le],ze=m[le];if(L)var Yn=Q?L(ze,Ce,le,m,f,x):L(Ce,ze,le,f,m,x);if(!(Yn===void 0?Ce===ze||K(Ce,ze,S,L,x):Yn)){me=!1;break}xe||(xe=le=="constructor")}if(me&&!xe){var Lr=f.constructor,Nr=m.constructor;Lr!=Nr&&"constructor"in f&&"constructor"in m&&!(typeof Lr=="function"&&Lr instanceof Lr&&typeof Nr=="function"&&Nr instanceof Nr)&&(me=!1)}return x.delete(f),x.delete(m),me}function Bn(f){return _o(f,wo,Ao)}function wr(f,m){var S=f.__data__;return Ro(m)?S[typeof m=="string"?"string":"hash"]:S.map}function dt(f,m){var S=V(f,m);return ho(S)?S:void 0}function bo(f){var m=z.call(f,Se),S=f[Se];try{f[Se]=void 0;var L=!0}catch{}var K=Ar.call(f);return L&&(m?f[Se]=S:delete f[Se]),K}var Ao=Sr?function(f){return f==null?[]:(f=Object(f),R(Sr(f),function(m){return Re.call(f,m)}))}:Do,Me=mt;(pt&&Me(new pt(new ArrayBuffer(1)))!=G||Ye&&Me(new Ye)!=b||ht&&Me(ht.resolve())!=P||gt&&Me(new gt)!=e||H&&Me(new H)!=I)&&(Me=function(f){var m=mt(f),S=m==N?f.constructor:void 0,L=S?Xe(S):"";if(L)switch(L){case tn:return G;case rn:return b;case nn:return P;case an:return e;case Ue:return I}return m});function To(f,m){return m=m??i,!!m&&(typeof f=="number"||_t.test(f))&&f>-1&&f%1==0&&f<m}function Ro(f){var m=typeof f;return m=="string"||m=="number"||m=="symbol"||m=="boolean"?f!=="__proto__":f===null}function So(f){return!!br&&br in f}function Oo(f){var m=f&&f.constructor,S=typeof m=="function"&&m.prototype||Le;return f===S}function vo(f){return Ar.call(f)}function Xe(f){if(f!=null){try{return Ge.call(f)}catch{}try{return f+""}catch{}}return""}function Fn(f,m){return f===m||f!==f&&m!==m}var Co=Mn(function(){return arguments}())?Mn:function(f){return yt(f)&&z.call(f,"callee")&&!Re.call(f,"callee")},Dr=Array.isArray;function Po(f){return f!=null&&Vn(f.length)&&!qn(f)}var cn=en||Lo;function Io(f,m){return xn(f,m)}function qn(f){if(!kn(f))return!1;var m=mt(f);return m==p||m==h||m==g||m==T}function Vn(f){return typeof f=="number"&&f>-1&&f%1==0&&f<=i}function kn(f){var m=typeof f;return f!=null&&(m=="object"||m=="function")}function yt(f){return f!=null&&typeof f=="object"}var Gn=st?j(st):go;function wo(f){return Po(f)?fo(f):Eo(f)}function Do(){return[]}function Lo(){return!1}l.exports=Io}(Er,Er.exports)),Er.exports}var Je={},Fr={},pa;function Kr(){if(pa)return Fr;pa=1,Object.defineProperty(Fr,"__esModule",{value:!0});const l=mr();function n(u,o,r,t=!0){r[l.testSymbol](u,n,o,t)}return Fr.default=n,Fr}var ha;function wi(){if(ha)return Je;ha=1,Object.defineProperty(Je,"__esModule",{value:!0}),Je.exact=Je.partial=void 0;const l=ft(),n=Kr(),u=mr();function o(t,i,s){try{for(const c of Object.keys(i)){const g=s?`${s}.${c}`:c;if((0,u.isPredicate)(i[c]))(0,n.default)(t[c],g,i[c]);else if(l.default.plainObject(i[c])){const _=o(t[c],i[c],g);if(_!==!0)return _}}return!0}catch(c){return c.message}}Je.partial=o;function r(t,i,s,c){try{const g=new Set(Object.keys(t));for(const _ of Object.keys(i)){g.delete(_);const d=s?`${s}.${_}`:_;if((0,u.isPredicate)(i[_]))(0,n.default)(t[_],d,i[_]);else if(l.default.plainObject(i[_])){if(!Object.prototype.hasOwnProperty.call(t,_))return`Expected \`${d}\` to exist`;const a=r(t[_],i[_],d);if(a!==!0)return a}}if(g.size>0){const _=[...g.keys()][0],d=s?`${s}.${_}`:_;return`Did not expect ${c?"element":"property"} \`${d}\` to exist, got \`${t[_]}\``}return!0}catch(g){return g.message}}return Je.exact=r,Je}var qr={},ga;function Hr(){if(ga)return qr;ga=1,Object.defineProperty(qr,"__esModule",{value:!0});const l=Kr();return qr.default=(n,u,o)=>{try{for(const r of n)(0,l.default)(r,u,o,!1);return!0}catch(r){return r.message}},qr}var Ea;function cs(){if(Ea)return wt;Ea=1,Object.defineProperty(wt,"__esModule",{value:!0}),wt.ArrayPredicate=void 0;const l=Wr(),n=re(),u=wi(),o=Hr();class r extends n.Predicate{constructor(i){super("array",i)}length(i){return this.addValidator({message:(s,c)=>`Expected ${c} to have length \`${i}\`, got \`${s.length}\``,validator:s=>s.length===i})}minLength(i){return this.addValidator({message:(s,c)=>`Expected ${c} to have a minimum length of \`${i}\`, got \`${s.length}\``,validator:s=>s.length>=i,negatedMessage:(s,c)=>`Expected ${c} to have a maximum length of \`${i-1}\`, got \`${s.length}\``})}maxLength(i){return this.addValidator({message:(s,c)=>`Expected ${c} to have a maximum length of \`${i}\`, got \`${s.length}\``,validator:s=>s.length<=i,negatedMessage:(s,c)=>`Expected ${c} to have a minimum length of \`${i+1}\`, got \`${s.length}\``})}startsWith(i){return this.addValidator({message:(s,c)=>`Expected ${c} to start with \`${i}\`, got \`${s[0]}\``,validator:s=>s[0]===i})}endsWith(i){return this.addValidator({message:(s,c)=>`Expected ${c} to end with \`${i}\`, got \`${s[s.length-1]}\``,validator:s=>s[s.length-1]===i})}includes(...i){return this.addValidator({message:(s,c)=>`Expected ${c} to include all elements of \`${JSON.stringify(i)}\`, got \`${JSON.stringify(s)}\``,validator:s=>i.every(c=>s.includes(c))})}includesAny(...i){return this.addValidator({message:(s,c)=>`Expected ${c} to include any element of \`${JSON.stringify(i)}\`, got \`${JSON.stringify(s)}\``,validator:s=>i.some(c=>s.includes(c))})}get empty(){return this.addValidator({message:(i,s)=>`Expected ${s} to be empty, got \`${JSON.stringify(i)}\``,validator:i=>i.length===0})}get nonEmpty(){return this.addValidator({message:(i,s)=>`Expected ${s} to not be empty`,validator:i=>i.length>0})}deepEqual(i){return this.addValidator({message:(s,c)=>`Expected ${c} to be deeply equal to \`${JSON.stringify(i)}\`, got \`${JSON.stringify(s)}\``,validator:s=>l(s,i)})}ofType(i){return this.addValidator({message:(s,c,g)=>`(${c}) ${g}`,validator:s=>(0,o.default)(s,"values",i)})}exactShape(i){const s=i;return this.addValidator({message:(c,g,_)=>`${_.replace("Expected","Expected element")} in ${g}`,validator:c=>(0,u.exact)(c,s,void 0,!0)})}}return wt.ArrayPredicate=r,wt}var Dt={},yn,ma;function ds(){return ma||(ma=1,yn=l=>{const n=typeof l;return l!==null&&(n==="object"||n==="function")}),yn}var bn,ya;function fs(){if(ya)return bn;ya=1;const l=ds(),n=new Set(["__proto__","prototype","constructor"]),u=r=>!r.some(t=>n.has(t));function o(r){const t=r.split("."),i=[];for(let s=0;s<t.length;s++){let c=t[s];for(;c[c.length-1]==="\\"&&t[s+1]!==void 0;)c=c.slice(0,-1)+".",c+=t[++s];i.push(c)}return u(i)?i:[]}return bn={get(r,t,i){if(!l(r)||typeof t!="string")return i===void 0?r:i;const s=o(t);if(s.length!==0){for(let c=0;c<s.length;c++)if(r=r[s[c]],r==null){if(c!==s.length-1)return i;break}return r===void 0?i:r}},set(r,t,i){if(!l(r)||typeof t!="string")return r;const s=r,c=o(t);for(let g=0;g<c.length;g++){const _=c[g];l(r[_])||(r[_]={}),g===c.length-1&&(r[_]=i),r=r[_]}return s},delete(r,t){if(!l(r)||typeof t!="string")return!1;const i=o(t);for(let s=0;s<i.length;s++){const c=i[s];if(s===i.length-1)return delete r[c],!0;if(r=r[c],!l(r))return!1}},has(r,t){if(!l(r)||typeof t!="string")return!1;const i=o(t);if(i.length===0)return!1;for(let s=0;s<i.length;s++)if(l(r)){if(!(i[s]in r))return!1;r=r[i[s]]}else return!1;return!0}},bn}var Vr={},ba;function yr(){return ba||(ba=1,Object.defineProperty(Vr,"__esModule",{value:!0}),Vr.default=(l,n,u=5)=>{const o=[];for(const r of n)if(!l.has(r)&&(o.push(r),o.length===u))return o;return o.length===0?!0:o}),Vr}var kr={},Aa;function _s(){if(Aa)return kr;Aa=1,Object.defineProperty(kr,"__esModule",{value:!0});const l=ft(),n=Kr(),u=(o,r)=>l.default.plainObject(o)?Object.values(o).every(t=>u(t,r)):((0,n.default)(o,"deep values",r,!1),!0);return kr.default=(o,r)=>{try{return u(o,r)}catch(t){return t.message}},kr}var Ta;function ps(){if(Ta)return Dt;Ta=1,Object.defineProperty(Dt,"__esModule",{value:!0}),Dt.ObjectPredicate=void 0;const l=ft(),n=fs(),u=Wr(),o=yr(),r=Hr(),t=_s(),i=wi(),s=re();class c extends s.Predicate{constructor(_){super("object",_)}get plain(){return this.addValidator({message:(_,d)=>`Expected ${d} to be a plain object`,validator:_=>l.default.plainObject(_)})}get empty(){return this.addValidator({message:(_,d)=>`Expected ${d} to be empty, got \`${JSON.stringify(_)}\``,validator:_=>Object.keys(_).length===0})}get nonEmpty(){return this.addValidator({message:(_,d)=>`Expected ${d} to not be empty`,validator:_=>Object.keys(_).length>0})}valuesOfType(_){return this.addValidator({message:(d,a,p)=>`(${a}) ${p}`,validator:d=>(0,r.default)(Object.values(d),"values",_)})}deepValuesOfType(_){return this.addValidator({message:(d,a,p)=>`(${a}) ${p}`,validator:d=>(0,t.default)(d,_)})}deepEqual(_){return this.addValidator({message:(d,a)=>`Expected ${a} to be deeply equal to \`${JSON.stringify(_)}\`, got \`${JSON.stringify(d)}\``,validator:d=>u(d,_)})}instanceOf(_){return this.addValidator({message:(d,a)=>{var p;let{name:h}=(p=d==null?void 0:d.constructor)!==null&&p!==void 0?p:{};return(!h||h==="Object")&&(h=JSON.stringify(d)),`Expected ${a} \`${h}\` to be of type \`${_.name}\``},validator:d=>d instanceof _})}hasKeys(..._){return this.addValidator({message:(d,a,p)=>`Expected ${a} to have keys \`${JSON.stringify(p)}\``,validator:d=>(0,o.default)({has:a=>n.has(d,a)},_)})}hasAnyKeys(..._){return this.addValidator({message:(d,a)=>`Expected ${a} to have any key of \`${JSON.stringify(_)}\``,validator:d=>_.some(a=>n.has(d,a))})}partialShape(_){return this.addValidator({message:(d,a,p)=>`${p.replace("Expected","Expected property")} in ${a}`,validator:d=>(0,i.partial)(d,_)})}exactShape(_){return this.addValidator({message:(d,a,p)=>`${p.replace("Expected","Expected property")} in ${a}`,validator:d=>(0,i.exact)(d,_)})}}return Dt.ObjectPredicate=c,Dt}var Lt={},Ra;function hs(){if(Ra)return Lt;Ra=1,Object.defineProperty(Lt,"__esModule",{value:!0}),Lt.DatePredicate=void 0;const l=re();class n extends l.Predicate{constructor(o){super("date",o)}before(o){return this.addValidator({message:(r,t)=>`Expected ${t} ${r.toISOString()} to be before ${o.toISOString()}`,validator:r=>r.getTime()<o.getTime()})}after(o){return this.addValidator({message:(r,t)=>`Expected ${t} ${r.toISOString()} to be after ${o.toISOString()}`,validator:r=>r.getTime()>o.getTime()})}}return Lt.DatePredicate=n,Lt}var Nt={},Sa;function gs(){if(Sa)return Nt;Sa=1,Object.defineProperty(Nt,"__esModule",{value:!0}),Nt.ErrorPredicate=void 0;const l=re();class n extends l.Predicate{constructor(o){super("error",o)}name(o){return this.addValidator({message:(r,t)=>`Expected ${t} to have name \`${o}\`, got \`${r.name}\``,validator:r=>r.name===o})}message(o){return this.addValidator({message:(r,t)=>`Expected ${t} message to be \`${o}\`, got \`${r.message}\``,validator:r=>r.message===o})}messageIncludes(o){return this.addValidator({message:(r,t)=>`Expected ${t} message to include \`${o}\`, got \`${r.message}\``,validator:r=>r.message.includes(o)})}hasKeys(...o){return this.addValidator({message:(r,t)=>`Expected ${t} message to have keys \`${o.join("`, `")}\``,validator:r=>o.every(t=>Object.prototype.hasOwnProperty.call(r,t))})}instanceOf(o){return this.addValidator({message:(r,t)=>`Expected ${t} \`${r.name}\` to be of type \`${o.name}\``,validator:r=>r instanceof o})}get typeError(){return this.instanceOf(TypeError)}get evalError(){return this.instanceOf(EvalError)}get rangeError(){return this.instanceOf(RangeError)}get referenceError(){return this.instanceOf(ReferenceError)}get syntaxError(){return this.instanceOf(SyntaxError)}get uriError(){return this.instanceOf(URIError)}}return Nt.ErrorPredicate=n,Nt}var Ut={},Oa;function Es(){if(Oa)return Ut;Oa=1,Object.defineProperty(Ut,"__esModule",{value:!0}),Ut.MapPredicate=void 0;const l=Wr(),n=yr(),u=Hr(),o=re();class r extends o.Predicate{constructor(i){super("Map",i)}size(i){return this.addValidator({message:(s,c)=>`Expected ${c} to have size \`${i}\`, got \`${s.size}\``,validator:s=>s.size===i})}minSize(i){return this.addValidator({message:(s,c)=>`Expected ${c} to have a minimum size of \`${i}\`, got \`${s.size}\``,validator:s=>s.size>=i,negatedMessage:(s,c)=>`Expected ${c} to have a maximum size of \`${i-1}\`, got \`${s.size}\``})}maxSize(i){return this.addValidator({message:(s,c)=>`Expected ${c} to have a maximum size of \`${i}\`, got \`${s.size}\``,validator:s=>s.size<=i,negatedMessage:(s,c)=>`Expected ${c} to have a minimum size of \`${i+1}\`, got \`${s.size}\``})}hasKeys(...i){return this.addValidator({message:(s,c,g)=>`Expected ${c} to have keys \`${JSON.stringify(g)}\``,validator:s=>(0,n.default)(s,i)})}hasAnyKeys(...i){return this.addValidator({message:(s,c)=>`Expected ${c} to have any key of \`${JSON.stringify(i)}\``,validator:s=>i.some(c=>s.has(c))})}hasValues(...i){return this.addValidator({message:(s,c,g)=>`Expected ${c} to have values \`${JSON.stringify(g)}\``,validator:s=>(0,n.default)(new Set(s.values()),i)})}hasAnyValues(...i){return this.addValidator({message:(s,c)=>`Expected ${c} to have any value of \`${JSON.stringify(i)}\``,validator:s=>{const c=new Set(s.values());return i.some(g=>c.has(g))}})}keysOfType(i){return this.addValidator({message:(s,c,g)=>`(${c}) ${g}`,validator:s=>(0,u.default)(s.keys(),"keys",i)})}valuesOfType(i){return this.addValidator({message:(s,c,g)=>`(${c}) ${g}`,validator:s=>(0,u.default)(s.values(),"values",i)})}get empty(){return this.addValidator({message:(i,s)=>`Expected ${s} to be empty, got \`${JSON.stringify([...i])}\``,validator:i=>i.size===0})}get nonEmpty(){return this.addValidator({message:(i,s)=>`Expected ${s} to not be empty`,validator:i=>i.size>0})}deepEqual(i){return this.addValidator({message:(s,c)=>`Expected ${c} to be deeply equal to \`${JSON.stringify([...i])}\`, got \`${JSON.stringify([...s])}\``,validator:s=>l(s,i)})}}return Ut.MapPredicate=r,Ut}var $t={},va;function ms(){if(va)return $t;va=1,Object.defineProperty($t,"__esModule",{value:!0}),$t.WeakMapPredicate=void 0;const l=yr(),n=re();class u extends n.Predicate{constructor(r){super("WeakMap",r)}hasKeys(...r){return this.addValidator({message:(t,i,s)=>`Expected ${i} to have keys \`${JSON.stringify(s)}\``,validator:t=>(0,l.default)(t,r)})}hasAnyKeys(...r){return this.addValidator({message:(t,i)=>`Expected ${i} to have any key of \`${JSON.stringify(r)}\``,validator:t=>r.some(i=>t.has(i))})}}return $t.WeakMapPredicate=u,$t}var Mt={},Ca;function ys(){if(Ca)return Mt;Ca=1,Object.defineProperty(Mt,"__esModule",{value:!0}),Mt.SetPredicate=void 0;const l=Wr(),n=yr(),u=Hr(),o=re();class r extends o.Predicate{constructor(i){super("Set",i)}size(i){return this.addValidator({message:(s,c)=>`Expected ${c} to have size \`${i}\`, got \`${s.size}\``,validator:s=>s.size===i})}minSize(i){return this.addValidator({message:(s,c)=>`Expected ${c} to have a minimum size of \`${i}\`, got \`${s.size}\``,validator:s=>s.size>=i,negatedMessage:(s,c)=>`Expected ${c} to have a maximum size of \`${i-1}\`, got \`${s.size}\``})}maxSize(i){return this.addValidator({message:(s,c)=>`Expected ${c} to have a maximum size of \`${i}\`, got \`${s.size}\``,validator:s=>s.size<=i,negatedMessage:(s,c)=>`Expected ${c} to have a minimum size of \`${i+1}\`, got \`${s.size}\``})}has(...i){return this.addValidator({message:(s,c,g)=>`Expected ${c} to have items \`${JSON.stringify(g)}\``,validator:s=>(0,n.default)(s,i)})}hasAny(...i){return this.addValidator({message:(s,c)=>`Expected ${c} to have any item of \`${JSON.stringify(i)}\``,validator:s=>i.some(c=>s.has(c))})}ofType(i){return this.addValidator({message:(s,c,g)=>`(${c}) ${g}`,validator:s=>(0,u.default)(s,"values",i)})}get empty(){return this.addValidator({message:(i,s)=>`Expected ${s} to be empty, got \`${JSON.stringify([...i])}\``,validator:i=>i.size===0})}get nonEmpty(){return this.addValidator({message:(i,s)=>`Expected ${s} to not be empty`,validator:i=>i.size>0})}deepEqual(i){return this.addValidator({message:(s,c)=>`Expected ${c} to be deeply equal to \`${JSON.stringify([...i])}\`, got \`${JSON.stringify([...s])}\``,validator:s=>l(s,i)})}}return Mt.SetPredicate=r,Mt}var xt={},Pa;function bs(){if(Pa)return xt;Pa=1,Object.defineProperty(xt,"__esModule",{value:!0}),xt.WeakSetPredicate=void 0;const l=yr(),n=re();class u extends n.Predicate{constructor(r){super("WeakSet",r)}has(...r){return this.addValidator({message:(t,i,s)=>`Expected ${i} to have items \`${JSON.stringify(s)}\``,validator:t=>(0,l.default)(t,r)})}hasAny(...r){return this.addValidator({message:(t,i)=>`Expected ${i} to have any item of \`${JSON.stringify(r)}\``,validator:t=>r.some(i=>t.has(i))})}}return xt.WeakSetPredicate=u,xt}var jt={},Ia;function As(){if(Ia)return jt;Ia=1,Object.defineProperty(jt,"__esModule",{value:!0}),jt.TypedArrayPredicate=void 0;const l=re();class n extends l.Predicate{byteLength(o){return this.addValidator({message:(r,t)=>`Expected ${t} to have byte length of \`${o}\`, got \`${r.byteLength}\``,validator:r=>r.byteLength===o})}minByteLength(o){return this.addValidator({message:(r,t)=>`Expected ${t} to have a minimum byte length of \`${o}\`, got \`${r.byteLength}\``,validator:r=>r.byteLength>=o,negatedMessage:(r,t)=>`Expected ${t} to have a maximum byte length of \`${o-1}\`, got \`${r.byteLength}\``})}maxByteLength(o){return this.addValidator({message:(r,t)=>`Expected ${t} to have a maximum byte length of \`${o}\`, got \`${r.byteLength}\``,validator:r=>r.byteLength<=o,negatedMessage:(r,t)=>`Expected ${t} to have a minimum byte length of \`${o+1}\`, got \`${r.byteLength}\``})}length(o){return this.addValidator({message:(r,t)=>`Expected ${t} to have length \`${o}\`, got \`${r.length}\``,validator:r=>r.length===o})}minLength(o){return this.addValidator({message:(r,t)=>`Expected ${t} to have a minimum length of \`${o}\`, got \`${r.length}\``,validator:r=>r.length>=o,negatedMessage:(r,t)=>`Expected ${t} to have a maximum length of \`${o-1}\`, got \`${r.length}\``})}maxLength(o){return this.addValidator({message:(r,t)=>`Expected ${t} to have a maximum length of \`${o}\`, got \`${r.length}\``,validator:r=>r.length<=o,negatedMessage:(r,t)=>`Expected ${t} to have a minimum length of \`${o+1}\`, got \`${r.length}\``})}}return jt.TypedArrayPredicate=n,jt}var Bt={},wa;function Ts(){if(wa)return Bt;wa=1,Object.defineProperty(Bt,"__esModule",{value:!0}),Bt.ArrayBufferPredicate=void 0;const l=re();class n extends l.Predicate{byteLength(o){return this.addValidator({message:(r,t)=>`Expected ${t} to have byte length of \`${o}\`, got \`${r.byteLength}\``,validator:r=>r.byteLength===o})}minByteLength(o){return this.addValidator({message:(r,t)=>`Expected ${t} to have a minimum byte length of \`${o}\`, got \`${r.byteLength}\``,validator:r=>r.byteLength>=o,negatedMessage:(r,t)=>`Expected ${t} to have a maximum byte length of \`${o-1}\`, got \`${r.byteLength}\``})}maxByteLength(o){return this.addValidator({message:(r,t)=>`Expected ${t} to have a maximum byte length of \`${o}\`, got \`${r.byteLength}\``,validator:r=>r.byteLength<=o,negatedMessage:(r,t)=>`Expected ${t} to have a minimum byte length of \`${o+1}\`, got \`${r.byteLength}\``})}}return Bt.ArrayBufferPredicate=n,Bt}var Ft={},Da;function Rs(){if(Da)return Ft;Da=1,Object.defineProperty(Ft,"__esModule",{value:!0}),Ft.DataViewPredicate=void 0;const l=re();class n extends l.Predicate{constructor(o){super("DataView",o)}byteLength(o){return this.addValidator({message:(r,t)=>`Expected ${t} to have byte length of \`${o}\`, got \`${r.byteLength}\``,validator:r=>r.byteLength===o})}minByteLength(o){return this.addValidator({message:(r,t)=>`Expected ${t} to have a minimum byte length of \`${o}\`, got \`${r.byteLength}\``,validator:r=>r.byteLength>=o,negatedMessage:(r,t)=>`Expected ${t} to have a maximum byte length of \`${o-1}\`, got \`${r.byteLength}\``})}maxByteLength(o){return this.addValidator({message:(r,t)=>`Expected ${t} to have a maximum byte length of \`${o}\`, got \`${r.byteLength}\``,validator:r=>r.byteLength<=o,negatedMessage:(r,t)=>`Expected ${t} to have a minimum byte length of \`${o+1}\`, got \`${r.byteLength}\``})}}return Ft.DataViewPredicate=n,Ft}var qt={},La;function Ss(){if(La)return qt;La=1,Object.defineProperty(qt,"__esModule",{value:!0}),qt.AnyPredicate=void 0;const l=wn(),n=mr(),u=Ii();class o{constructor(t,i={}){Object.defineProperty(this,"predicates",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"options",{enumerable:!0,configurable:!0,writable:!0,value:i})}[n.testSymbol](t,i,s,c){const g=new Map;for(const _ of this.predicates)try{i(t,s,_,c);return}catch(d){if(t===void 0&&this.options.optional===!0)return;if(d instanceof l.ArgumentError)for(const[a,p]of d.validationErrors.entries()){const h=g.get(a);g.set(a,new Set([...h??[],...p]))}}if(g.size>0){const _=(0,u.generateArgumentErrorMessage)(g,!0);throw new l.ArgumentError(`Any predicate failed with the following errors:
${_}`,i,g)}}}return qt.AnyPredicate=o,qt}var Na;function vn(){return Na||(Na=1,function(l){Object.defineProperty(l,"__esModule",{value:!0}),l.AnyPredicate=l.DataViewPredicate=l.ArrayBufferPredicate=l.TypedArrayPredicate=l.WeakSetPredicate=l.SetPredicate=l.WeakMapPredicate=l.MapPredicate=l.ErrorPredicate=l.DatePredicate=l.ObjectPredicate=l.ArrayPredicate=l.BooleanPredicate=l.BigIntPredicate=l.NumberPredicate=l.StringPredicate=void 0;const n=os();Object.defineProperty(l,"StringPredicate",{enumerable:!0,get:function(){return n.StringPredicate}});const u=ss();Object.defineProperty(l,"NumberPredicate",{enumerable:!0,get:function(){return u.NumberPredicate}});const o=us();Object.defineProperty(l,"BigIntPredicate",{enumerable:!0,get:function(){return o.BigIntPredicate}});const r=ls();Object.defineProperty(l,"BooleanPredicate",{enumerable:!0,get:function(){return r.BooleanPredicate}});const t=re(),i=cs();Object.defineProperty(l,"ArrayPredicate",{enumerable:!0,get:function(){return i.ArrayPredicate}});const s=ps();Object.defineProperty(l,"ObjectPredicate",{enumerable:!0,get:function(){return s.ObjectPredicate}});const c=hs();Object.defineProperty(l,"DatePredicate",{enumerable:!0,get:function(){return c.DatePredicate}});const g=gs();Object.defineProperty(l,"ErrorPredicate",{enumerable:!0,get:function(){return g.ErrorPredicate}});const _=Es();Object.defineProperty(l,"MapPredicate",{enumerable:!0,get:function(){return _.MapPredicate}});const d=ms();Object.defineProperty(l,"WeakMapPredicate",{enumerable:!0,get:function(){return d.WeakMapPredicate}});const a=ys();Object.defineProperty(l,"SetPredicate",{enumerable:!0,get:function(){return a.SetPredicate}});const p=bs();Object.defineProperty(l,"WeakSetPredicate",{enumerable:!0,get:function(){return p.WeakSetPredicate}});const h=As();Object.defineProperty(l,"TypedArrayPredicate",{enumerable:!0,get:function(){return h.TypedArrayPredicate}});const b=Ts();Object.defineProperty(l,"ArrayBufferPredicate",{enumerable:!0,get:function(){return b.ArrayBufferPredicate}});const v=Rs();Object.defineProperty(l,"DataViewPredicate",{enumerable:!0,get:function(){return v.DataViewPredicate}});const D=Ss();Object.defineProperty(l,"AnyPredicate",{enumerable:!0,get:function(){return D.AnyPredicate}}),l.default=(N,P)=>(Object.defineProperties(N,{string:{get:()=>new n.StringPredicate(P)},number:{get:()=>new u.NumberPredicate(P)},bigint:{get:()=>new o.BigIntPredicate(P)},boolean:{get:()=>new r.BooleanPredicate(P)},undefined:{get:()=>new t.Predicate("undefined",P)},null:{get:()=>new t.Predicate("null",P)},nullOrUndefined:{get:()=>new t.Predicate("nullOrUndefined",P)},nan:{get:()=>new t.Predicate("nan",P)},symbol:{get:()=>new t.Predicate("symbol",P)},array:{get:()=>new i.ArrayPredicate(P)},object:{get:()=>new s.ObjectPredicate(P)},date:{get:()=>new c.DatePredicate(P)},error:{get:()=>new g.ErrorPredicate(P)},map:{get:()=>new _.MapPredicate(P)},weakMap:{get:()=>new d.WeakMapPredicate(P)},set:{get:()=>new a.SetPredicate(P)},weakSet:{get:()=>new p.WeakSetPredicate(P)},function:{get:()=>new t.Predicate("Function",P)},buffer:{get:()=>new t.Predicate("Buffer",P)},regExp:{get:()=>new t.Predicate("RegExp",P)},promise:{get:()=>new t.Predicate("Promise",P)},typedArray:{get:()=>new h.TypedArrayPredicate("TypedArray",P)},int8Array:{get:()=>new h.TypedArrayPredicate("Int8Array",P)},uint8Array:{get:()=>new h.TypedArrayPredicate("Uint8Array",P)},uint8ClampedArray:{get:()=>new h.TypedArrayPredicate("Uint8ClampedArray",P)},int16Array:{get:()=>new h.TypedArrayPredicate("Int16Array",P)},uint16Array:{get:()=>new h.TypedArrayPredicate("Uint16Array",P)},int32Array:{get:()=>new h.TypedArrayPredicate("Int32Array",P)},uint32Array:{get:()=>new h.TypedArrayPredicate("Uint32Array",P)},float32Array:{get:()=>new h.TypedArrayPredicate("Float32Array",P)},float64Array:{get:()=>new h.TypedArrayPredicate("Float64Array",P)},arrayBuffer:{get:()=>new b.ArrayBufferPredicate("ArrayBuffer",P)},sharedArrayBuffer:{get:()=>new b.ArrayBufferPredicate("SharedArrayBuffer",P)},dataView:{get:()=>new v.DataViewPredicate(P)},iterable:{get:()=>new t.Predicate("Iterable",P)},any:{value:(...T)=>new D.AnyPredicate(T,P)}}),N)}(En)),En}var Ua;function Os(){if(Ua)return Br;Ua=1,Object.defineProperty(Br,"__esModule",{value:!0});const l=vn();return Br.default=n=>(Object.defineProperties(n,{optional:{get:()=>(0,l.default)({},{optional:!0})}}),n),Br}var $a;function Y(){return $a||($a=1,function(l){var n=je&&je.__createBinding||(Object.create?function(p,h,b,v){v===void 0&&(v=b);var D=Object.getOwnPropertyDescriptor(h,b);(!D||("get"in D?!h.__esModule:D.writable||D.configurable))&&(D={enumerable:!0,get:function(){return h[b]}}),Object.defineProperty(p,v,D)}:function(p,h,b,v){v===void 0&&(v=b),p[v]=h[b]}),u=je&&je.__exportStar||function(p,h){for(var b in p)b!=="default"&&!Object.prototype.hasOwnProperty.call(h,b)&&n(h,p,b)};Object.defineProperty(l,"__esModule",{value:!0}),l.ArgumentError=l.Predicate=void 0;const o=es(),r=ts(),t=re();Object.defineProperty(l,"Predicate",{enumerable:!0,get:function(){return t.Predicate}});const i=mr(),s=Os(),c=vn(),g=Kr(),_=(p,h,b)=>{if(!(0,i.isPredicate)(h)&&typeof h!="string")throw new TypeError(`Expected second argument to be a predicate or a string, got \`${typeof h}\``);if((0,i.isPredicate)(h)){const v=(0,o.default)();(0,g.default)(p,()=>(0,r.inferLabel)(v),h);return}(0,g.default)(p,h,b)};Object.defineProperties(_,{isValid:{value:(p,h)=>{try{return(0,g.default)(p,"",h),!0}catch{return!1}}},create:{value:(p,h)=>(b,v)=>{if((0,i.isPredicate)(p)){const D=(0,o.default)();(0,g.default)(b,v??(()=>(0,r.inferLabel)(D)),p);return}(0,g.default)(b,v??p,h)}}});const d=(0,c.default)((0,s.default)(_));l.default=d,u(vn(),l);var a=wn();Object.defineProperty(l,"ArgumentError",{enumerable:!0,get:function(){return a.ArgumentError}})}(pn)),pn}var Vt={};const vs={},Cs=Object.freeze(Object.defineProperty({__proto__:null,default:vs},Symbol.toStringTag,{value:"Module"})),Cn=Pn(Cs);var Gr={exports:{}},Ma;function Ps(){if(Ma)return Gr.exports;Ma=1,Gr.exports=l,Gr.exports.HttpsAgent=l;function l(){}return Gr.exports}var An={},Tn,xa;function Is(){if(xa)return Tn;xa=1;function l(n,u){typeof u=="boolean"&&(u={forever:u}),this._originalTimeouts=JSON.parse(JSON.stringify(n)),this._timeouts=n,this._options=u||{},this._maxRetryTime=u&&u.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}return Tn=l,l.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)},l.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null},l.prototype.retry=function(n){if(this._timeout&&clearTimeout(this._timeout),!n)return!1;var u=new Date().getTime();if(n&&u-this._operationStart>=this._maxRetryTime)return this._errors.push(n),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(n);var o=this._timeouts.shift();if(o===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),o=this._cachedTimeouts.slice(-1);else return!1;var r=this;return this._timer=setTimeout(function(){r._attempts++,r._operationTimeoutCb&&(r._timeout=setTimeout(function(){r._operationTimeoutCb(r._attempts)},r._operationTimeout),r._options.unref&&r._timeout.unref()),r._fn(r._attempts)},o),this._options.unref&&this._timer.unref(),!0},l.prototype.attempt=function(n,u){this._fn=n,u&&(u.timeout&&(this._operationTimeout=u.timeout),u.cb&&(this._operationTimeoutCb=u.cb));var o=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){o._operationTimeoutCb()},o._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)},l.prototype.try=function(n){console.log("Using RetryOperation.try() is deprecated"),this.attempt(n)},l.prototype.start=function(n){console.log("Using RetryOperation.start() is deprecated"),this.attempt(n)},l.prototype.start=l.prototype.try,l.prototype.errors=function(){return this._errors},l.prototype.attempts=function(){return this._attempts},l.prototype.mainError=function(){if(this._errors.length===0)return null;for(var n={},u=null,o=0,r=0;r<this._errors.length;r++){var t=this._errors[r],i=t.message,s=(n[i]||0)+1;n[i]=s,s>=o&&(u=t,o=s)}return u},Tn}var ja;function ws(){return ja||(ja=1,function(l){var n=Is();l.operation=function(u){var o=l.timeouts(u);return new n(o,{forever:u&&(u.forever||u.retries===1/0),unref:u&&u.unref,maxRetryTime:u&&u.maxRetryTime})},l.timeouts=function(u){if(u instanceof Array)return[].concat(u);var o={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var r in u)o[r]=u[r];if(o.minTimeout>o.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var t=[],i=0;i<o.retries;i++)t.push(this.createTimeout(i,o));return u&&u.forever&&!t.length&&t.push(this.createTimeout(i,o)),t.sort(function(s,c){return s-c}),t},l.createTimeout=function(u,o){var r=o.randomize?Math.random()+1:1,t=Math.round(r*Math.max(o.minTimeout,1)*Math.pow(o.factor,u));return t=Math.min(t,o.maxTimeout),t},l.wrap=function(u,o,r){if(o instanceof Array&&(r=o,o=null),!r){r=[];for(var t in u)typeof u[t]=="function"&&r.push(t)}for(var i=0;i<r.length;i++){var s=r[i],c=u[s];u[s]=(function(_){var d=l.operation(o),a=Array.prototype.slice.call(arguments,1),p=a.pop();a.push(function(h){d.retry(h)||(h&&(arguments[0]=d.mainError()),p.apply(this,arguments))}),d.attempt(function(){_.apply(u,a)})}).bind(u,c),u[s].options=o}}}(An)),An}var Rn,Ba;function Ds(){return Ba||(Ba=1,Rn=ws()),Rn}var Sn,Fa;function Ls(){if(Fa)return Sn;Fa=1;var l=Ds();function n(u,o){function r(t,i){var s=o||{},c;"randomize"in s||(s.randomize=!0),c=l.operation(s);function g(a){i(a||new Error("Aborted"))}function _(a,p){if(a.bail){g(a);return}c.retry(a)?s.onRetry&&s.onRetry(a,p):i(c.mainError())}function d(a){var p;try{p=u(g,a)}catch(h){_(h,a);return}Promise.resolve(p).then(t).catch(function(b){_(b,a)})}c.attempt(d)}return new Promise(r)}return Sn=n,Sn}const Di=Pn(Jo);var kt={},Gt={},Yr={};/*!
 * content-type
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var qa;function Li(){if(qa)return Yr;qa=1;var l=/; *([!#$%&'*+.^_`|~0-9A-Za-z-]+) *= *("(?:[\u000b\u0020\u0021\u0023-\u005b\u005d-\u007e\u0080-\u00ff]|\\[\u000b\u0020-\u00ff])*"|[!#$%&'*+.^_`|~0-9A-Za-z-]+) */g,n=/^[\u000b\u0020-\u007e\u0080-\u00ff]+$/,u=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+$/,o=/\\([\u000b\u0020-\u00ff])/g,r=/([\\"])/g,t=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+\/[!#$%&'*+.^_`|~0-9A-Za-z-]+$/;Yr.format=i,Yr.parse=s;function i(d){if(!d||typeof d!="object")throw new TypeError("argument obj is required");var a=d.parameters,p=d.type;if(!p||!t.test(p))throw new TypeError("invalid type");var h=p;if(a&&typeof a=="object")for(var b,v=Object.keys(a).sort(),D=0;D<v.length;D++){if(b=v[D],!u.test(b))throw new TypeError("invalid parameter name");h+="; "+b+"="+g(a[b])}return h}function s(d){if(!d)throw new TypeError("argument string is required");var a=typeof d=="object"?c(d):d;if(typeof a!="string")throw new TypeError("argument string is required to be a string");var p=a.indexOf(";"),h=p!==-1?a.slice(0,p).trim():a.trim();if(!t.test(h))throw new TypeError("invalid media type");var b=new _(h.toLowerCase());if(p!==-1){var v,D,N;for(l.lastIndex=p;D=l.exec(a);){if(D.index!==p)throw new TypeError("invalid parameter format");p+=D[0].length,v=D[1].toLowerCase(),N=D[2],N.charCodeAt(0)===34&&(N=N.slice(1,-1),N.indexOf("\\")!==-1&&(N=N.replace(o,"$1"))),b.parameters[v]=N}if(p!==a.length)throw new TypeError("invalid parameter format")}return b}function c(d){var a;if(typeof d.getHeader=="function"?a=d.getHeader("content-type"):typeof d.headers=="object"&&(a=d.headers&&d.headers["content-type"]),typeof a!="string")throw new TypeError("content-type header is missing from object");return a}function g(d){var a=String(d);if(u.test(a))return a;if(a.length>0&&!n.test(a))throw new TypeError("invalid parameter value");return'"'+a.replace(r,"\\$1")+'"'}function _(d){this.parameters=Object.create(null),this.type=d}return Yr}var oe={};const Ns="apify-client",Us="2.12.0",$s="Apify API client for JavaScript",Ms="dist/index.js",xs="dist/index.mjs",js="dist/index.d.ts",Bs="dist/bundle.js",Fs="dist/bundle.js",qs={"./package.json":"./package.json",".":{import:"./dist/index.mjs",require:"./dist/index.js",types:"./dist/index.d.ts",browser:"./dist/bundle.js"}},Vs=["apify","api","apifier","crawler","scraper"],ks={name:"Apify",email:"support@apify.com",url:"https://apify.com"},Gs=["Jan Curn <jan@apify.com>","Marek Trunkát <marek@apify.com>","Ondra Urban <ondra@apify.com>","Jakub Drobník <jakub.drobnik@apify.com>"],Ys="Apache-2.0",Ws={type:"git",url:"git+https://github.com/apify/apify-client-js"},Ks={url:"https://github.com/apify/apify-client-js/issues"},Hs="https://docs.apify.com/api/client/js/",Xs=["dist","!dist/*.tsbuildinfo"],zs={build:"npm run clean && npm run build:node && npm run build:browser",postbuild:"gen-esm-wrapper dist/index.js dist/index.mjs",prepublishOnly:'(test $CI || (echo "Publishing is reserved to CI!"; exit 1))',clean:"rimraf dist",test:"npm run build && jest",lint:"eslint src test --ext js,jsx,mjs,ts","lint:fix":"eslint src test --ext js,jsx,mjs,ts --fix","build:node":"tsc","build:browser":"webpack"},Js={"@apify/consts":"^2.25.0","@apify/log":"^2.2.6","@crawlee/types":"^3.3.0",agentkeepalive:"^4.2.1","async-retry":"^1.3.3",axios:"^1.6.7","content-type":"^1.0.5",ow:"^0.28.2",tslib:"^2.5.0","type-fest":"^4.0.0"},Qs={"@apify/eslint-config-ts":"^0.4.1","@apify/tsconfig":"^0.1.0","@babel/cli":"^7.21.0","@babel/core":"^7.21.0","@babel/preset-env":"^7.20.2","@babel/register":"^7.21.0","@crawlee/puppeteer":"^3.2.2","@types/async-retry":"^1.4.5","@types/content-type":"^1.1.5","@types/express":"^4.17.17","@types/fs-extra":"^11.0.1","@types/jest":"^29.4.0","@types/node":"^22.0.0","@typescript-eslint/eslint-plugin":"^7.18.0","@typescript-eslint/parser":"^7.18.0","babel-loader":"^9.1.2","body-parser":"^1.20.3",compression:"^1.7.4",eslint:"^8.57.1",express:"^4.21.1","fs-extra":"^11.1.0","gen-esm-wrapper":"^1.1.2",jest:"^29.4.3",process:"^0.11.10",puppeteer:"^24.0.0",rimraf:"^6.0.0","terser-webpack-plugin":"^5.3.6","ts-jest":"^29.0.5","ts-loader":"^9.4.2","ts-node":"^10.9.1",typescript:"^5.6.3",webpack:"^5.75.0","webpack-cli":"^6.0.0"},Zs={name:Ns,version:Us,description:$s,main:Ms,module:xs,types:js,browser:Bs,unpkg:Fs,exports:qs,keywords:Vs,author:ks,contributors:Gs,license:Ys,repository:Ws,bugs:Ks,homepage:Hs,files:Xs,scripts:zs,dependencies:Js,devDependencies:Qs};var Va;function se(){if(Va)return oe;Va=1,Object.defineProperty(oe,"__esModule",{value:!0}),oe.PaginationIterator=void 0,oe.pluckData=c,oe.catchNotFoundOrThrow=g,oe.parseDateFields=_,oe.stringifyWebhooksToBase64=d,oe.maybeGzipValue=p,oe.sliceArrayByByteLength=h,oe.isNode=b,oe.isBuffer=v,oe.isStream=D,oe.getVersionData=N,oe.cast=T,oe.asArray=E;const l=B,n=l.__importDefault(Cn),u=l.__importDefault(Cn),o=l.__importDefault(Y()),r=404,t="record-not-found",i="record-or-token-not-found",s=1024;function c(e){if(typeof e=="object"&&e&&typeof e.data<"u")return e.data;throw new Error(`Expected response object with a "data" property, but received: ${e}`)}function g(e){const y=e.statusCode===r,O=e.type===t||e.type===i||e.httpMethod==="head";if(!(y&&O))throw e}function _(e,y=null,O=0){return O>3?e:Array.isArray(e)?e.map(w=>_(w,y,O+1)):!e||typeof e!="object"?e:Object.entries(e).reduce((w,[I,$])=>{const G=!!$&&typeof $=="object";if(I.endsWith("At")||y&&y(I))if($){const Z=new Date($);w[I]=Number.isNaN(Z.getTime())?$:Z}else w[I]=$;else G||Array.isArray($)?w[I]=_($,y,O+1):w[I]=$;return w},{})}function d(e){if(!e)return;const y=JSON.stringify(e);if(b())return Buffer.from(y,"utf8").toString("base64");const w=new TextEncoder().encode(y);return btoa(String.fromCharCode(...w))}let a;b()&&(a=n.default.promisify(u.default.gzip));async function p(e){if(!b()||typeof e!="string"&&!Buffer.isBuffer(e))return;if(Buffer.byteLength(e)>=s)return a(e)}function h(e,y,O){const w=Z=>b()?Buffer.byteLength(Z):new Blob([Z]).size;if(w(JSON.stringify(e))<y)return e;const $=[];let G=2;for(let Z=0;Z<e.length;Z++){const _e=e[Z],ye=w(JSON.stringify(_e));if(ye>y)throw new Error(`RequestQueueClient.batchAddRequests: The size of the request with index: ${O+Z} exceeds the maximum allowed size (${y} bytes).`);if(G+ye>=y)break;G+=ye,$.push(_e)}return $}function b(){return!!(typeof process<"u"&&process.versions&&process.versions.node)}function v(e){return o.default.isValid(e,o.default.any(o.default.buffer,o.default.arrayBuffer,o.default.typedArray))}function D(e){return o.default.isValid(e,o.default.object.hasKeys("on","pipe"))}function N(){return typeof BROWSER_BUILD<"u"?{version:VERSION}:Zs}class P{constructor(y){Object.defineProperty(this,"maxPageLimit",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"getPage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"limit",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"exclusiveStartId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxPageLimit=y.maxPageLimit,this.limit=y.limit,this.exclusiveStartId=y.exclusiveStartId,this.getPage=y.getPage}async*[Symbol.asyncIterator](){let y,O=0;for(;;){const w=this.limit?Math.min(this.maxPageLimit,this.limit-O):this.maxPageLimit,I=y||this.exclusiveStartId,$=await this.getPage({limit:w,exclusiveStartId:I});if($.items.length===0||(yield $,O+=$.items.length,this.limit&&O>=this.limit))return;y=$.items[$.items.length-1].id}}}oe.PaginationIterator=P;function T(e){return e}function E(e){return Array.isArray(e)?e:[e]}return oe}var ka;function Ni(){if(ka)return Gt;ka=1,Object.defineProperty(Gt,"__esModule",{value:!0}),Gt.maybeParseBody=t,Gt.isomorphicBufferToString=i;const n=B.__importDefault(Li()),u=se(),o="application/json",r=[new RegExp(`^${o}`,"i"),/^application\/.*xml$/i,/^text\//i];function t(_,d){let a,p;try{const b=n.default.parse(d);a=b.type,p=b.parameters.charset}catch{return _}if(!g(a,p))return _;const h=i(_,p);return a===o?JSON.parse(h):h}function i(_,d){return _.constructor.name!==ArrayBuffer.name?_.toString(d):new TextDecoder().decode(new Uint8Array(_))}function s(_){return _?(0,u.isNode)()?Buffer.isEncoding(_):_.toLowerCase().replace("-","")==="utf8":!0}function c(_){return _?r.some(d=>d.test(_)):!1}function g(_,d){return c(_)&&s(d)}return Gt}var Ga;function Ui(){if(Ga)return kt;Ga=1,Object.defineProperty(kt,"__esModule",{value:!0}),kt.ApifyApiError=void 0;const l=Ni(),n=se(),u=/at( async)? ([A-Za-z]+(Collection)?Client)\._?([A-Za-z]+) \(/;class o extends Error{constructor(t,i){var s;let c,g,_=t.data,d;if((0,n.isBuffer)(_))try{_=JSON.parse((0,l.isomorphicBufferToString)(t.data,"utf-8"))}catch{}if(_&&_.error){const{error:p}=_;c=p.message,g=p.type,d=p.data}else if(_){let p;try{p=JSON.stringify(_,null,2)}catch{p=`${_}`}c=`Unexpected error: ${p}`}super(c),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientMethod",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"statusCode",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"attempt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"httpMethod",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"path",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"originalStack",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=this.constructor.name,this.clientMethod=this._extractClientAndMethodFromStack(),this.statusCode=t.status,this.type=g,this.attempt=i,this.httpMethod=(s=t.config)===null||s===void 0?void 0:s.method,this.path=this._safelyParsePathFromResponse(t);const a=this.stack;this.originalStack=a.slice(a.indexOf(`
`)),this.stack=this._createApiStack(),this.data=d}_safelyParsePathFromResponse(t){var i;const s=(i=t.config)===null||i===void 0?void 0:i.url;let c;try{c=new URL(s)}catch{return s}return c.pathname+c.search}_extractClientAndMethodFromStack(){const t=this.stack.match(u);return t?`${t[2]}.${t[4]}`:"unknown"}_createApiStack(){const{name:t,...i}=this,s=Object.entries(i).map(([c,g])=>(c==="originalStack"&&(c="stack"),`  ${c}: ${g}`)).join(`
`);return`${t}: ${this.message}
${s}`}}return kt.ApifyApiError=o,kt}var Pe={},Ya;function $i(){if(Ya)return Pe;Ya=1,Object.defineProperty(Pe,"__esModule",{value:!0}),Pe.responseInterceptors=Pe.requestInterceptors=Pe.InvalidResponseBodyError=void 0;const l=B,n=l.__importStar(Di),u=l.__importDefault(Li()),o=Ni(),r=se();class t extends Error{constructor(a,p){super(`Response body could not be parsed.
Cause:${p.message}`),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"response",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=this.constructor.name,this.code="invalid-response-body",this.response=a,this.cause=p}}Pe.InvalidResponseBodyError=t;function i(d){var a,p;const[h]=n.default.defaults.transformRequest,b=h(d.data,d.headers);if(d.stringifyFunctions){const v=((a=d.headers)===null||a===void 0?void 0:a["Content-Type"])||((p=d.headers)===null||p===void 0?void 0:p["content-type"]);try{const{type:D}=u.default.parse(v);D==="application/json"&&typeof d.data=="object"?d.data=c(d.data):d.data=b}catch{d.data=b}}else d.data=b;return d}function s(d){return d.headers&&!(d.headers instanceof n.AxiosHeaders)&&Object.setPrototypeOf(d.headers,n.AxiosHeaders.prototype),d}function c(d){return JSON.stringify(d,(a,p)=>typeof p=="function"?p.toString():p)}async function g(d){var a,p;if(!((a=d.headers)===null||a===void 0)&&a["content-encoding"])return d;const h=await(0,r.maybeGzipValue)(d.data);return h&&((p=d.headers)!==null&&p!==void 0||(d.headers={}),d.headers["content-encoding"]="gzip",d.data=h),d}function _(d){if(!d.data||d.config.responseType!=="arraybuffer"||d.config.forceBuffer)return d;if((0,r.isNode)()?!d.data.length:!d.data.byteLength)return d.data=void 0,d;const p=d.headers["content-type"];try{d.data=(0,o.maybeParseBody)(d.data,p)}catch(h){throw new t(d,h)}return d}return Pe.requestInterceptors=[g,i,s],Pe.responseInterceptors=[_],Pe}var Wa;function eu(){if(Wa)return Vt;Wa=1;var l={};Object.defineProperty(Vt,"__esModule",{value:!0}),Vt.HttpClient=void 0;const n=B,u=n.__importDefault(Cn),o=Be(),r=n.__importDefault(Ps()),t=n.__importDefault(Ls()),i=n.__importStar(Di),s=Ui(),c=$i(),g=se(),{version:_}=(0,g.getVersionData)(),d=429;class a{constructor(h){Object.defineProperty(this,"stats",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxRetries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"minDelayBetweenRetriesMillis",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"userProvidedRequestInterceptors",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"logger",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timeoutMillis",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"httpAgent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"httpsAgent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"axios",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"workflowKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0});const{token:b}=h;if(this.stats=h.apifyClientStats,this.maxRetries=h.maxRetries,this.minDelayBetweenRetriesMillis=h.minDelayBetweenRetriesMillis,this.userProvidedRequestInterceptors=h.requestInterceptors,this.timeoutMillis=h.timeoutSecs*1e3,this.logger=h.logger,this.workflowKey=h.workflowKey||l[o.APIFY_ENV_VARS.WORKFLOW_KEY],this._onRequestRetry=this._onRequestRetry.bind(this),(0,g.isNode)()){const v={timeout:this.timeoutMillis};this.httpAgent=new r.default(v),this.httpsAgent=new r.default.HttpsAgent(v)}if(this.axios=i.default.create({httpAgent:this.httpAgent,httpsAgent:this.httpsAgent,paramsSerializer:v=>{const D=Object.entries(v).filter(([,N])=>N!==void 0).map(([N,P])=>{const T=typeof P=="boolean"?Number(P):P;return[N,String(T)]});return new URLSearchParams(D).toString()},validateStatus:null,transformRequest:void 0,transformResponse:void 0,responseType:"arraybuffer",timeout:this.timeoutMillis,maxBodyLength:1/0,maxContentLength:-1}),this.axios.defaults.headers=new i.AxiosHeaders,this.workflowKey&&(this.axios.defaults.headers["X-Apify-Workflow-Key"]=this.workflowKey),(0,g.isNode)()){const v=!!l[o.APIFY_ENV_VARS.IS_AT_HOME];let D=`ApifyClient/${_} (${u.default.type()}; Node/${process.version}); isAtHome/${v}`;h.userAgentSuffix&&(D+=`; ${(0,g.asArray)(h.userAgentSuffix).join("; ")}`),this.axios.defaults.headers["User-Agent"]=D}b&&(this.axios.defaults.headers.Authorization=`Bearer ${b}`),c.requestInterceptors.forEach(v=>this.axios.interceptors.request.use(v)),this.userProvidedRequestInterceptors.forEach(v=>this.axios.interceptors.request.use(v)),c.responseInterceptors.forEach(v=>this.axios.interceptors.response.use(v))}async call(h){this.stats.calls++;const b=this._createRequestHandler(h);return(0,t.default)(b,{retries:this.maxRetries,minTimeout:this.minDelayBetweenRetriesMillis,onRetry:this._onRequestRetry})}_informAboutStreamNoRetry(){this.logger.warningOnce("Request body was a stream - retrying will not work, as part of it was already consumed."),this.logger.warningOnce("If you want Apify client to handle retries for you, collect the stream into a buffer before sending it.")}_createRequestHandler(h){return async(v,D)=>{this.stats.requests++;let N;const P=(0,g.isStream)(h.data);try{if(P&&(h={...h,maxRedirects:0}),N=await this.axios.request(h),this._isStatusOk(N.status))return N}catch(E){return(0,g.cast)(this._handleRequestError(E,h,v))}N.status===d&&this.stats.addRateLimitError(D);const T=new s.ApifyApiError(N,D);if(this._isStatusCodeRetryable(N.status))if(P)this._informAboutStreamNoRetry();else throw T;return v(T),N}}_isStatusOk(h){return h<300}_handleRequestError(h,b,v){if(this._isTimeoutError(h)&&b.doNotRetryTimeouts)return v(h);if(this._isRetryableError(h))if((0,g.isStream)(b.data))this._informAboutStreamNoRetry();else throw h;return v(h)}_isTimeoutError(h){return h.code==="ECONNABORTED"}_isRetryableError(h){return this._isNetworkError(h)||this._isResponseBodyInvalid(h)}_isResponseBodyInvalid(h){return h instanceof c.InvalidResponseBodyError}_isNetworkError(h){const b=h.request&&typeof h.request=="object",v=h.config&&typeof h.config=="object";return b&&v}_isStatusCodeRetryable(h){const b=h===d,v=h>=500;return b||v}_onRequestRetry(h,b){b===Math.round(this.maxRetries/2)&&this.logger.warning(`API request failed ${b} times. Max attempts: ${this.maxRetries+1}.
Cause:${h.stack}`)}}return Vt.HttpClient=a,Vt}var Yt={},Qe={},Wt={},Kt={},Ht={},Ka;function Mi(){if(Ka)return Ht;Ka=1,Object.defineProperty(Ht,"__esModule",{value:!0}),Ht.ApiClient=void 0;class l{constructor(u){Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"safeId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"baseUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"resourcePath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"apifyClient",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"httpClient",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0});const{baseUrl:o,apifyClient:r,httpClient:t,resourcePath:i,id:s,params:c={}}=u;this.id=s,this.safeId=s&&this._toSafeId(s),this.baseUrl=o,this.resourcePath=i,this.url=s?`${o}/${i}/${this.safeId}`:`${o}/${i}`,this.apifyClient=r,this.httpClient=t,this.params=c}_subResourceOptions(u){return{...{baseUrl:this._url(),apifyClient:this.apifyClient,httpClient:this.httpClient,params:this._params()},...u}}_url(u){return u?`${this.url}/${u}`:this.url}_params(u){return{...this.params,...u}}_toSafeId(u){return u.replace("/","~")}}return Ht.ApiClient=l,Ht}var Ha;function fe(){if(Ha)return Kt;Ha=1,Object.defineProperty(Kt,"__esModule",{value:!0}),Kt.ResourceClient=void 0;const l=Be(),n=Mi(),u=se(),o=999999;class r extends n.ApiClient{async _get(i={}){const s={url:this._url(),method:"GET",params:this._params(i)};try{const c=await this.httpClient.call(s);return(0,u.parseDateFields)((0,u.pluckData)(c.data))}catch(c){(0,u.catchNotFoundOrThrow)(c)}}async _update(i){const s=await this.httpClient.call({url:this._url(),method:"PUT",params:this._params(),data:i});return(0,u.parseDateFields)((0,u.pluckData)(s.data))}async _delete(){try{await this.httpClient.call({url:this._url(),method:"DELETE",params:this._params()})}catch(i){(0,u.catchNotFoundOrThrow)(i)}}async _waitForFinish(i={}){const{waitSecs:s=o}=i,c=s*1e3;let g;const _=Date.now(),d=()=>Date.now()-_>=c?!1:!(g&&l.ACT_JOB_TERMINAL_STATUSES.includes(g.status));do{const a=Date.now()-_,p=Math.round((c-a)/1e3),h=Math.max(0,p),b={url:this._url(),method:"GET",params:this._params({waitForFinish:h})};try{const v=await this.httpClient.call(b);g=(0,u.parseDateFields)((0,u.pluckData)(v.data))}catch(v){(0,u.catchNotFoundOrThrow)(v),g=void 0}g||await new Promise(v=>setTimeout(v,250))}while(d());if(!g){const p=this.constructor.name.match(/(\w+)Client/)[1].toLowerCase();throw new Error(`Waiting for ${p} to finish failed. Cannot fetch actor ${p} details from the server.`)}return g}}return Kt.ResourceClient=r,Kt}var Xa;function tu(){if(Xa)return Wt;Xa=1,Object.defineProperty(Wt,"__esModule",{value:!0}),Wt.ActorEnvVarClient=void 0;const n=B.__importDefault(Y()),u=fe();class o extends u.ResourceClient{constructor(t){super({resourcePath:"env-vars",...t})}async get(){return this._get()}async update(t){return(0,n.default)(t,n.default.object),this._update(t)}async delete(){return this._delete()}}return Wt.ActorEnvVarClient=o,Wt}var Xt={},zt={},za;function ge(){if(za)return zt;za=1,Object.defineProperty(zt,"__esModule",{value:!0}),zt.ResourceCollectionClient=void 0;const l=Mi(),n=se();class u extends l.ApiClient{async _list(r={}){const t=await this.httpClient.call({url:this._url(),method:"GET",params:this._params(r)});return(0,n.parseDateFields)((0,n.pluckData)(t.data))}async _create(r){const t=await this.httpClient.call({url:this._url(),method:"POST",params:this._params(),data:r});return(0,n.parseDateFields)((0,n.pluckData)(t.data))}async _getOrCreate(r,t){const i=await this.httpClient.call({url:this._url(),method:"POST",params:this._params({name:r}),data:t});return(0,n.parseDateFields)((0,n.pluckData)(i.data))}}return zt.ResourceCollectionClient=u,zt}var Ja;function ru(){if(Ja)return Xt;Ja=1,Object.defineProperty(Xt,"__esModule",{value:!0}),Xt.ActorEnvVarCollectionClient=void 0;const n=B.__importDefault(Y()),u=ge();class o extends u.ResourceCollectionClient{constructor(t){super({resourcePath:"env-vars",...t})}async list(t={}){return(0,n.default)(t,n.default.object.exactShape({limit:n.default.optional.number,offset:n.default.optional.number,desc:n.default.optional.boolean})),this._list(t)}async create(t){return(0,n.default)(t,n.default.optional.object),this._create(t)}}return Xt.ActorEnvVarCollectionClient=o,Xt}var Qa;function nu(){if(Qa)return Qe;Qa=1,Object.defineProperty(Qe,"__esModule",{value:!0}),Qe.ActorSourceType=Qe.ActorVersionClient=void 0;const n=B.__importDefault(Y()),u=tu(),o=ru(),r=fe();class t extends r.ResourceClient{constructor(c){super({resourcePath:"versions",...c})}async get(){return this._get()}async update(c){return(0,n.default)(c,n.default.object),this._update(c)}async delete(){return this._delete()}envVar(c){return(0,n.default)(c,n.default.string),new u.ActorEnvVarClient(this._subResourceOptions({id:c}))}envVars(){return new o.ActorEnvVarCollectionClient(this._subResourceOptions())}}Qe.ActorVersionClient=t;var i;return function(s){s.SourceFiles="SOURCE_FILES",s.GitRepo="GIT_REPO",s.Tarball="TARBALL",s.GitHubGist="GITHUB_GIST"}(i||(Qe.ActorSourceType=i={})),Qe}var Jt={},Za;function au(){if(Za)return Jt;Za=1,Object.defineProperty(Jt,"__esModule",{value:!0}),Jt.ActorVersionCollectionClient=void 0;const n=B.__importDefault(Y()),u=ge();class o extends u.ResourceCollectionClient{constructor(t){super({resourcePath:"versions",...t})}async list(t={}){return(0,n.default)(t,n.default.object.exactShape({limit:n.default.optional.number,offset:n.default.optional.number,desc:n.default.optional.boolean})),this._list(t)}async create(t){return(0,n.default)(t,n.default.optional.object),this._create(t)}}return Jt.ActorVersionCollectionClient=o,Jt}var Qt={},ei;function Dn(){if(ei)return Qt;ei=1,Object.defineProperty(Qt,"__esModule",{value:!0}),Qt.BuildCollectionClient=void 0;const n=B.__importDefault(Y()),u=ge();class o extends u.ResourceCollectionClient{constructor(t){super({...t,resourcePath:t.resourcePath||"actor-builds"})}async list(t={}){return(0,n.default)(t,n.default.object.exactShape({limit:n.default.optional.number,offset:n.default.optional.number,desc:n.default.optional.boolean})),this._list(t)}}return Qt.BuildCollectionClient=o,Qt}var Zt={},Ze={},ti;function Ln(){if(ti)return Ze;ti=1,Object.defineProperty(Ze,"__esModule",{value:!0}),Ze.DownloadItemsFormat=Ze.DatasetClient=void 0;const n=B.__importDefault(Y()),u=fe(),o=se();class r extends u.ResourceClient{constructor(c){super({resourcePath:"datasets",...c})}async get(){return this._get()}async update(c){return(0,n.default)(c,n.default.object),this._update(c)}async delete(){return this._delete()}async listItems(c={}){var g;(0,n.default)(c,n.default.object.exactShape({clean:n.default.optional.boolean,desc:n.default.optional.boolean,flatten:n.default.optional.array.ofType(n.default.string),fields:n.default.optional.array.ofType(n.default.string),omit:n.default.optional.array.ofType(n.default.string),limit:n.default.optional.number,offset:n.default.optional.number,skipEmpty:n.default.optional.boolean,skipHidden:n.default.optional.boolean,unwind:n.default.optional.any(n.default.string,n.default.array.ofType(n.default.string)),view:n.default.optional.string}));const _=await this.httpClient.call({url:this._url("items"),method:"GET",params:this._params(c)});return this._createPaginationList(_,(g=c.desc)!==null&&g!==void 0?g:!1)}async downloadItems(c,g={}){(0,n.default)(c,n.default.string.oneOf(i)),(0,n.default)(g,n.default.object.exactShape({attachment:n.default.optional.boolean,bom:n.default.optional.boolean,clean:n.default.optional.boolean,delimiter:n.default.optional.string,desc:n.default.optional.boolean,flatten:n.default.optional.array.ofType(n.default.string),fields:n.default.optional.array.ofType(n.default.string),omit:n.default.optional.array.ofType(n.default.string),limit:n.default.optional.number,offset:n.default.optional.number,skipEmpty:n.default.optional.boolean,skipHeaderRow:n.default.optional.boolean,skipHidden:n.default.optional.boolean,unwind:n.default.any(n.default.optional.string,n.default.optional.array.ofType(n.default.string)),view:n.default.optional.string,xmlRoot:n.default.optional.string,xmlRow:n.default.optional.string}));const{data:_}=await this.httpClient.call({url:this._url("items"),method:"GET",params:this._params({format:c,...g}),forceBuffer:!0});return(0,o.cast)(_)}async pushItems(c){(0,n.default)(c,n.default.any(n.default.object,n.default.string,n.default.array.ofType(n.default.any(n.default.object,n.default.string)))),await this.httpClient.call({url:this._url("items"),method:"POST",headers:{"content-type":"application/json; charset=utf-8"},data:c,params:this._params(),doNotRetryTimeouts:!0})}async getStatistics(){const c={url:this._url("statistics"),method:"GET",params:this._params()};try{const g=await this.httpClient.call(c);return(0,o.cast)((0,o.pluckData)(g.data))}catch(g){(0,o.catchNotFoundOrThrow)(g)}}_createPaginationList(c,g){var _;return{items:c.data,total:Number(c.headers["x-apify-pagination-total"]),offset:Number(c.headers["x-apify-pagination-offset"]),count:c.data.length,limit:Number(c.headers["x-apify-pagination-limit"]),desc:JSON.parse((_=c.headers["x-apify-pagination-desc"])!==null&&_!==void 0?_:g)}}}Ze.DatasetClient=r;var t;(function(s){s.JSON="json",s.JSONL="jsonl",s.XML="xml",s.HTML="html",s.CSV="csv",s.XLSX="xlsx",s.RSS="rss"})(t||(Ze.DownloadItemsFormat=t={}));const i=[...new Set(Object.values(t).map(s=>s.toLowerCase()))];return Ze}var er={},ri;function Nn(){if(ri)return er;ri=1,Object.defineProperty(er,"__esModule",{value:!0}),er.KeyValueStoreClient=void 0;const l=B,n=l.__importDefault(In()),u=l.__importDefault(Y()),o=fe(),r=se();class t extends o.ResourceClient{constructor(s){super({resourcePath:"key-value-stores",...s})}async get(){return this._get()}async update(s){return(0,u.default)(s,u.default.object),this._update(s)}async delete(){return this._delete()}async listKeys(s={}){(0,u.default)(s,u.default.object.exactShape({limit:u.default.optional.number,exclusiveStartKey:u.default.optional.string}));const c=await this.httpClient.call({url:this._url("keys"),method:"GET",params:this._params(s)});return(0,r.cast)((0,r.parseDateFields)((0,r.pluckData)(c.data)))}async recordExists(s){const c={url:this._url(`records/${s}`),method:"HEAD",params:this._params()};try{return await this.httpClient.call(c),!0}catch(g){(0,r.catchNotFoundOrThrow)(g)}return!1}async getRecord(s,c={}){if((0,u.default)(s,u.default.string),(0,u.default)(c,u.default.object.exactShape({buffer:u.default.optional.boolean,stream:u.default.optional.boolean,disableRedirect:u.default.optional.boolean})),c.stream&&!(0,r.isNode)())throw new Error("The stream option can only be used in Node.js environment.");"disableRedirect"in c&&n.default.deprecated("The disableRedirect option for getRecord() is deprecated. It has no effect and will be removed in the following major release.");const g={url:this._url(`records/${s}`),method:"GET",params:this._params()};c.buffer&&(g.forceBuffer=!0),c.stream&&(g.responseType="stream");try{const _=await this.httpClient.call(g);return{key:s,value:_.data,contentType:_.headers["content-type"]}}catch(_){(0,r.catchNotFoundOrThrow)(_)}}async setRecord(s){(0,u.default)(s,u.default.object.exactShape({key:u.default.string,value:u.default.any(u.default.null,u.default.string,u.default.number,u.default.object,u.default.boolean),contentType:u.default.optional.string.nonEmpty}));const{key:c}=s;let{value:g,contentType:_}=s;const d=(0,r.isStream)(g)||(0,r.isBuffer)(g);if(_||(d?_="application/octet-stream":typeof g=="string"?_="text/plain; charset=utf-8":_="application/json; charset=utf-8"),/^application\/json/.test(_)&&!d&&typeof g!="string")try{g=JSON.stringify(g,null,2)}catch(h){const b=`The record value cannot be stringified to JSON. Please provide other content type.
Cause: ${h.message}`;throw new Error(b)}const p={url:this._url(`records/${c}`),method:"PUT",params:this._params(),data:g,headers:_?{"content-type":_}:void 0};await this.httpClient.call(p)}async deleteRecord(s){(0,u.default)(s,u.default.string),await this.httpClient.call({url:this._url(`records/${s}`),method:"DELETE",params:this._params()})}}return er.KeyValueStoreClient=t,er}var tr={},ni;function Xr(){if(ni)return tr;ni=1,Object.defineProperty(tr,"__esModule",{value:!0}),tr.LogClient=void 0;const l=fe(),n=se();class u extends l.ResourceClient{constructor(r){super({resourcePath:"logs",...r})}async get(){const r={url:this._url(),method:"GET",params:this._params()};try{const t=await this.httpClient.call(r);return(0,n.cast)(t.data)}catch(t){(0,n.catchNotFoundOrThrow)(t)}}async stream(){const r={stream:!0},t={url:this._url(),method:"GET",params:this._params(r),responseType:"stream"};try{const i=await this.httpClient.call(t);return(0,n.cast)(i.data)}catch(i){(0,n.catchNotFoundOrThrow)(i)}}}return tr.LogClient=u,tr}var rr={},ai;function Un(){if(ai)return rr;ai=1,Object.defineProperty(rr,"__esModule",{value:!0}),rr.RequestQueueClient=void 0;const l=B,n=Be(),u=l.__importDefault(In()),o=l.__importDefault(Y()),r=fe(),t=se(),i=5,s=3,c=500,g=1e3,_=.01/100;class d extends r.ResourceClient{constructor(p,h={}){super({resourcePath:"request-queues",...p}),Object.defineProperty(this,"clientKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timeoutMillis",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.clientKey=h.clientKey,this.timeoutMillis=h.timeoutSecs?h.timeoutSecs*1e3:void 0}async get(){return this._get()}async update(p){return(0,o.default)(p,o.default.object),this._update(p)}async delete(){return this._delete()}async listHead(p={}){(0,o.default)(p,o.default.object.exactShape({limit:o.default.optional.number}));const h=await this.httpClient.call({url:this._url("head"),method:"GET",timeout:this.timeoutMillis,params:this._params({limit:p.limit,clientKey:this.clientKey})});return(0,t.cast)((0,t.parseDateFields)((0,t.pluckData)(h.data)))}async listAndLockHead(p){(0,o.default)(p,o.default.object.exactShape({lockSecs:o.default.number,limit:o.default.optional.number}));const h=await this.httpClient.call({url:this._url("head/lock"),method:"POST",timeout:this.timeoutMillis,params:this._params({limit:p.limit,lockSecs:p.lockSecs,clientKey:this.clientKey})});return(0,t.cast)((0,t.parseDateFields)((0,t.pluckData)(h.data)))}async addRequest(p,h={}){(0,o.default)(p,o.default.object.partialShape({id:o.default.undefined})),(0,o.default)(h,o.default.object.exactShape({forefront:o.default.optional.boolean}));const b=await this.httpClient.call({url:this._url("requests"),method:"POST",timeout:this.timeoutMillis,data:p,params:this._params({forefront:h.forefront,clientKey:this.clientKey})});return(0,t.cast)((0,t.parseDateFields)((0,t.pluckData)(b.data)))}async _batchAddRequests(p,h={}){(0,o.default)(p,o.default.array.ofType(o.default.object.partialShape({id:o.default.undefined})).minLength(1).maxLength(n.REQUEST_QUEUE_MAX_REQUESTS_PER_BATCH_OPERATION)),(0,o.default)(h,o.default.object.exactShape({forefront:o.default.optional.boolean}));const{data:b}=await this.httpClient.call({url:this._url("requests/batch"),method:"POST",timeout:this.timeoutMillis,data:p,params:this._params({forefront:h.forefront,clientKey:this.clientKey})});return(0,t.cast)((0,t.parseDateFields)((0,t.pluckData)(b)))}async _batchAddRequestsWithRetries(p,h={}){const{forefront:b,maxUnprocessedRequestsRetries:v=s,minDelayBetweenUnprocessedRequestsRetriesMillis:D=c}=h;let N=p;const P=[];let T=[];for(let e=0;e<1+v;e++){try{const O=await this._batchAddRequests(N,{forefront:b});P.push(...O.processedRequests),T=O.unprocessedRequests,T.length!==0&&this.httpClient.stats.addRateLimitError(e+1);const w=P.map(({uniqueKey:I})=>I);if(N=p.filter(({uniqueKey:I})=>!w.includes(I)),N.length===0)break}catch(O){u.default.exception(O,"Request batch insert failed");const w=P.map(({uniqueKey:I})=>I);T=p.filter(({uniqueKey:I})=>!w.includes(I)).map(({method:I,uniqueKey:$,url:G})=>({method:I,uniqueKey:$,url:G}));break}const y=Math.floor((1+Math.random())*2**e*D);await new Promise(O=>setTimeout(O,y))}const E={processedRequests:P,unprocessedRequests:T};return(0,t.cast)((0,t.parseDateFields)(E))}async batchAddRequests(p,h={}){const{forefront:b,maxUnprocessedRequestsRetries:v=s,maxParallel:D=i,minDelayBetweenUnprocessedRequestsRetriesMillis:N=c}=h;(0,o.default)(p,o.default.array.ofType(o.default.object.partialShape({id:o.default.undefined})).minLength(1)),(0,o.default)(b,o.default.optional.boolean),(0,o.default)(v,o.default.optional.number),(0,o.default)(D,o.default.optional.number),(0,o.default)(N,o.default.optional.number);const P=new Set,T=[],E=n.MAX_PAYLOAD_SIZE_BYTES-Math.ceil(n.MAX_PAYLOAD_SIZE_BYTES*_);let e=0;for(;e<p.length;){const O=p.slice(e,e+n.REQUEST_QUEUE_MAX_REQUESTS_PER_BATCH_OPERATION),w=(0,t.sliceArrayByByteLength)(O,E,e),I=this._batchAddRequestsWithRetries(w,h);P.add(I),I.then($=>{P.delete(I),T.push($)}),P.size>=D&&await Promise.race(P),e+=w.length}await Promise.all(P);const y={processedRequests:[],unprocessedRequests:[]};return T.forEach(({processedRequests:O,unprocessedRequests:w})=>{y.processedRequests.push(...O),y.unprocessedRequests.push(...w)}),y}async batchDeleteRequests(p){(0,o.default)(p,o.default.array.ofType(o.default.any(o.default.object.partialShape({id:o.default.string}),o.default.object.partialShape({uniqueKey:o.default.string}))).minLength(1).maxLength(n.REQUEST_QUEUE_MAX_REQUESTS_PER_BATCH_OPERATION));const{data:h}=await this.httpClient.call({url:this._url("requests/batch"),method:"DELETE",timeout:this.timeoutMillis,data:p,params:this._params({clientKey:this.clientKey})});return(0,t.cast)((0,t.parseDateFields)((0,t.pluckData)(h)))}async getRequest(p){(0,o.default)(p,o.default.string);const h={url:this._url(`requests/${p}`),method:"GET",timeout:this.timeoutMillis,params:this._params()};try{const b=await this.httpClient.call(h);return(0,t.cast)((0,t.parseDateFields)((0,t.pluckData)(b.data)))}catch(b){(0,t.catchNotFoundOrThrow)(b)}}async updateRequest(p,h={}){(0,o.default)(p,o.default.object.partialShape({id:o.default.string})),(0,o.default)(h,o.default.object.exactShape({forefront:o.default.optional.boolean}));const b=await this.httpClient.call({url:this._url(`requests/${p.id}`),method:"PUT",timeout:this.timeoutMillis,data:p,params:this._params({forefront:h.forefront,clientKey:this.clientKey})});return(0,t.cast)((0,t.parseDateFields)((0,t.pluckData)(b.data)))}async deleteRequest(p){(0,o.default)(p,o.default.string),await this.httpClient.call({url:this._url(`requests/${p}`),method:"DELETE",timeout:this.timeoutMillis,params:this._params({clientKey:this.clientKey})})}async prolongRequestLock(p,h){(0,o.default)(p,o.default.string),(0,o.default)(h,o.default.object.exactShape({lockSecs:o.default.number,forefront:o.default.optional.boolean}));const b=await this.httpClient.call({url:this._url(`requests/${p}/lock`),method:"PUT",timeout:this.timeoutMillis,params:this._params({forefront:h.forefront,lockSecs:h.lockSecs,clientKey:this.clientKey})});return(0,t.cast)((0,t.parseDateFields)((0,t.pluckData)(b.data)))}async deleteRequestLock(p,h={}){(0,o.default)(p,o.default.string),(0,o.default)(h,o.default.object.exactShape({forefront:o.default.optional.boolean})),await this.httpClient.call({url:this._url(`requests/${p}/lock`),method:"DELETE",timeout:this.timeoutMillis,params:this._params({forefront:h.forefront,clientKey:this.clientKey})})}async listRequests(p={}){(0,o.default)(p,o.default.object.exactShape({limit:o.default.optional.number,exclusiveStartId:o.default.optional.string}));const h=await this.httpClient.call({url:this._url("requests"),method:"GET",timeout:this.timeoutMillis,params:this._params({limit:p.limit,exclusiveStartId:p.exclusiveStartId,clientKey:this.clientKey})});return(0,t.cast)((0,t.parseDateFields)((0,t.pluckData)(h.data)))}paginateRequests(p={}){(0,o.default)(p,o.default.object.exactShape({limit:o.default.optional.number,maxPageLimit:o.default.optional.number,exclusiveStartId:o.default.optional.string}));const{limit:h,exclusiveStartId:b,maxPageLimit:v=g}=p;return new t.PaginationIterator({getPage:this.listRequests.bind(this),limit:h,exclusiveStartId:b,maxPageLimit:v})}}return rr.RequestQueueClient=d,rr}var ii;function zr(){if(ii)return Zt;ii=1,Object.defineProperty(Zt,"__esModule",{value:!0}),Zt.RunClient=void 0;const n=B.__importDefault(Y()),u=Ln(),o=Nn(),r=Xr(),t=Un(),i=fe(),s=se(),c="idempotency-key";class g extends i.ResourceClient{constructor(d){super({...d,resourcePath:d.resourcePath||"actor-runs"})}async get(d={}){return(0,n.default)(d,n.default.object.exactShape({waitForFinish:n.default.optional.number})),this._get(d)}async abort(d={}){(0,n.default)(d,n.default.object.exactShape({gracefully:n.default.optional.boolean}));const a=await this.httpClient.call({url:this._url("abort"),method:"POST",params:this._params(d)});return(0,s.cast)((0,s.parseDateFields)((0,s.pluckData)(a.data)))}async delete(){return this._delete()}async metamorph(d,a,p={}){(0,n.default)(d,n.default.string),(0,n.default)(p,n.default.object.exactShape({contentType:n.default.optional.string,build:n.default.optional.string}));const b={targetActorId:this._toSafeId(d),build:p.build},v={url:this._url("metamorph"),method:"POST",data:a,params:this._params(b),stringifyFunctions:!0};p.contentType&&(v.headers={"content-type":p.contentType});const D=await this.httpClient.call(v);return(0,s.cast)((0,s.parseDateFields)((0,s.pluckData)(D.data)))}async reboot(){const d={url:this._url("reboot"),method:"POST"},a=await this.httpClient.call(d);return(0,s.cast)((0,s.parseDateFields)((0,s.pluckData)(a.data)))}async update(d){return(0,n.default)(d,n.default.object),this._update(d)}async resurrect(d={}){(0,n.default)(d,n.default.object.exactShape({build:n.default.optional.string,memory:n.default.optional.number,timeout:n.default.optional.number}));const a=await this.httpClient.call({url:this._url("resurrect"),method:"POST",params:this._params(d)});return(0,s.cast)((0,s.parseDateFields)((0,s.pluckData)(a.data)))}async charge(d){var a,p;(0,n.default)(d,n.default.object.exactShape({eventName:n.default.string,count:n.default.optional.number,idempotencyKey:n.default.optional.string}));const h=(a=d.count)!==null&&a!==void 0?a:1,b=(Math.random()+1).toString(36).slice(3,8),v=(p=d.idempotencyKey)!==null&&p!==void 0?p:`${this.id}-${d.eventName}-${Date.now()}-${b}`,D={url:this._url("charge"),method:"POST",data:{eventName:d.eventName,count:h},headers:{[c]:v}};return await this.httpClient.call(D)}async waitForFinish(d={}){return(0,n.default)(d,n.default.object.exactShape({waitSecs:n.default.optional.number})),this._waitForFinish(d)}dataset(){return new u.DatasetClient(this._subResourceOptions({resourcePath:"dataset"}))}keyValueStore(){return new o.KeyValueStoreClient(this._subResourceOptions({resourcePath:"key-value-store"}))}requestQueue(){return new t.RequestQueueClient(this._subResourceOptions({resourcePath:"request-queue"}))}log(){return new r.LogClient(this._subResourceOptions({resourcePath:"log"}))}}return Zt.RunClient=g,Zt}var nr={},oi;function Jr(){if(oi)return nr;oi=1,Object.defineProperty(nr,"__esModule",{value:!0}),nr.RunCollectionClient=void 0;const l=B,n=Be(),u=l.__importDefault(Y()),o=ge();class r extends o.ResourceCollectionClient{constructor(i){super({resourcePath:"runs",...i})}async list(i={}){return(0,u.default)(i,u.default.object.exactShape({limit:u.default.optional.number,offset:u.default.optional.number,desc:u.default.optional.boolean,status:u.default.optional.string.oneOf(Object.values(n.ACT_JOB_STATUSES))})),this._list(i)}}return nr.RunCollectionClient=r,nr}var ar={},si;function Qr(){if(si)return ar;si=1,Object.defineProperty(ar,"__esModule",{value:!0}),ar.WebhookCollectionClient=void 0;const n=B.__importDefault(Y()),u=ge();class o extends u.ResourceCollectionClient{constructor(t){super({resourcePath:"webhooks",...t})}async list(t={}){return(0,n.default)(t,n.default.object.exactShape({limit:n.default.optional.number,offset:n.default.optional.number,desc:n.default.optional.boolean})),this._list(t)}async create(t){return(0,n.default)(t,n.default.optional.object),this._create(t)}}return ar.WebhookCollectionClient=o,ar}var ui;function xi(){if(ui)return Yt;ui=1,Object.defineProperty(Yt,"__esModule",{value:!0}),Yt.ActorClient=void 0;const l=B,n=Be(),u=l.__importDefault(Y()),o=nu(),r=au(),t=Dn(),i=zr(),s=Jr(),c=Qr(),g=fe(),_=se();class d extends g.ResourceClient{constructor(p){super({resourcePath:"acts",...p})}async get(){return this._get()}async update(p){return(0,u.default)(p,u.default.object),this._update(p)}async delete(){return this._delete()}async start(p,h={}){(0,u.default)(h,u.default.object.exactShape({build:u.default.optional.string,contentType:u.default.optional.string,memory:u.default.optional.number,timeout:u.default.optional.number,waitForFinish:u.default.optional.number,webhooks:u.default.optional.array.ofType(u.default.object),maxItems:u.default.optional.number.not.negative,maxTotalChargeUsd:u.default.optional.number.not.negative}));const{waitForFinish:b,timeout:v,memory:D,build:N,maxItems:P,maxTotalChargeUsd:T}=h,E={waitForFinish:b,timeout:v,memory:D,build:N,webhooks:(0,_.stringifyWebhooksToBase64)(h.webhooks),maxItems:P,maxTotalChargeUsd:T},e={url:this._url("runs"),method:"POST",data:p,params:this._params(E),stringifyFunctions:!0};h.contentType&&(e.headers={"content-type":h.contentType});const y=await this.httpClient.call(e);return(0,_.cast)((0,_.parseDateFields)((0,_.pluckData)(y.data)))}async call(p,h={}){(0,u.default)(h,u.default.object.exactShape({build:u.default.optional.string,contentType:u.default.optional.string,memory:u.default.optional.number,timeout:u.default.optional.number.not.negative,waitSecs:u.default.optional.number.not.negative,webhooks:u.default.optional.array.ofType(u.default.object),maxItems:u.default.optional.number.not.negative,maxTotalChargeUsd:u.default.optional.number.not.negative}));const{waitSecs:b,...v}=h,{id:D}=await this.start(p,v);return this.apifyClient.run(D).waitForFinish({waitSecs:b})}async build(p,h={}){(0,u.default)(p,u.default.string),(0,u.default)(h,u.default.object.exactShape({betaPackages:u.default.optional.boolean,tag:u.default.optional.string,useCache:u.default.optional.boolean,waitForFinish:u.default.optional.number}));const b=await this.httpClient.call({url:this._url("builds"),method:"POST",params:this._params({version:p,...h})});return(0,_.cast)((0,_.parseDateFields)((0,_.pluckData)(b.data)))}lastRun(p={}){return(0,u.default)(p,u.default.object.exactShape({status:u.default.optional.string.oneOf(Object.values(n.ACT_JOB_STATUSES)),origin:u.default.optional.string.oneOf(Object.values(n.META_ORIGINS))})),new i.RunClient(this._subResourceOptions({id:"last",params:this._params(p),resourcePath:"runs"}))}builds(){return new t.BuildCollectionClient(this._subResourceOptions({resourcePath:"builds"}))}runs(){return new s.RunCollectionClient(this._subResourceOptions({resourcePath:"runs"}))}version(p){return(0,u.default)(p,u.default.string),new o.ActorVersionClient(this._subResourceOptions({id:p}))}versions(){return new r.ActorVersionCollectionClient(this._subResourceOptions())}webhooks(){return new c.WebhookCollectionClient(this._subResourceOptions())}}return Yt.ActorClient=d,Yt}var ir={},li;function ji(){if(li)return ir;li=1,Object.defineProperty(ir,"__esModule",{value:!0}),ir.ActorCollectionClient=void 0;const n=B.__importDefault(Y()),u=ge();class o extends u.ResourceCollectionClient{constructor(t){super({resourcePath:"acts",...t})}async list(t={}){return(0,n.default)(t,n.default.object.exactShape({my:n.default.optional.boolean,limit:n.default.optional.number,offset:n.default.optional.number,desc:n.default.optional.boolean})),this._list(t)}async create(t){return(0,n.default)(t,n.default.optional.object),this._create(t)}}return ir.ActorCollectionClient=o,ir}var or={},ci;function Bi(){if(ci)return or;ci=1,Object.defineProperty(or,"__esModule",{value:!0}),or.BuildClient=void 0;const n=B.__importDefault(Y()),u=Xr(),o=fe(),r=se();class t extends o.ResourceClient{constructor(s){super({resourcePath:"actor-builds",...s})}async get(s={}){return(0,n.default)(s,n.default.object.exactShape({waitForFinish:n.default.optional.number})),this._get(s)}async abort(){const s=await this.httpClient.call({url:this._url("abort"),method:"POST",params:this._params()});return(0,r.cast)((0,r.parseDateFields)((0,r.pluckData)(s.data)))}async delete(){return this._delete()}async getOpenApiDefinition(){return(await this.httpClient.call({url:this._url("openapi.json"),method:"GET",params:this._params()})).data}async waitForFinish(s={}){return(0,n.default)(s,n.default.object.exactShape({waitSecs:n.default.optional.number})),this._waitForFinish(s)}log(){return new u.LogClient(this._subResourceOptions({resourcePath:"log"}))}}return or.BuildClient=t,or}var sr={},di;function Fi(){if(di)return sr;di=1,Object.defineProperty(sr,"__esModule",{value:!0}),sr.DatasetCollectionClient=void 0;const n=B.__importDefault(Y()),u=ge();class o extends u.ResourceCollectionClient{constructor(t){super({resourcePath:"datasets",...t})}async list(t={}){return(0,n.default)(t,n.default.object.exactShape({unnamed:n.default.optional.boolean,limit:n.default.optional.number,offset:n.default.optional.number,desc:n.default.optional.boolean})),this._list(t)}async getOrCreate(t,i){return(0,n.default)(t,n.default.optional.string),(0,n.default)(i==null?void 0:i.schema,n.default.optional.object),this._getOrCreate(t,i)}}return sr.DatasetCollectionClient=o,sr}var ur={},fi;function qi(){if(fi)return ur;fi=1,Object.defineProperty(ur,"__esModule",{value:!0}),ur.KeyValueStoreCollectionClient=void 0;const n=B.__importDefault(Y()),u=ge();class o extends u.ResourceCollectionClient{constructor(t){super({resourcePath:"key-value-stores",...t})}async list(t={}){return(0,n.default)(t,n.default.object.exactShape({unnamed:n.default.optional.boolean,limit:n.default.optional.number,offset:n.default.optional.number,desc:n.default.optional.boolean})),this._list(t)}async getOrCreate(t,i){return(0,n.default)(t,n.default.optional.string),(0,n.default)(i==null?void 0:i.schema,n.default.optional.object),this._getOrCreate(t,i)}}return ur.KeyValueStoreCollectionClient=o,ur}var lr={},_i;function Vi(){if(_i)return lr;_i=1,Object.defineProperty(lr,"__esModule",{value:!0}),lr.RequestQueueCollectionClient=void 0;const n=B.__importDefault(Y()),u=ge();class o extends u.ResourceCollectionClient{constructor(t){super({resourcePath:"request-queues",...t})}async list(t={}){return(0,n.default)(t,n.default.object.exactShape({unnamed:n.default.optional.boolean,limit:n.default.optional.number,offset:n.default.optional.number,desc:n.default.optional.boolean})),this._list(t)}async getOrCreate(t){return(0,n.default)(t,n.default.optional.string),this._getOrCreate(t)}}return lr.RequestQueueCollectionClient=o,lr}var et={},pi;function ki(){if(pi)return et;pi=1,Object.defineProperty(et,"__esModule",{value:!0}),et.ScheduleActions=et.ScheduleClient=void 0;const n=B.__importDefault(Y()),u=fe(),o=se();class r extends u.ResourceClient{constructor(s){super({resourcePath:"schedules",...s})}async get(){return this._get()}async update(s){return(0,n.default)(s,n.default.object),this._update(s)}async delete(){return this._delete()}async getLog(){const s={url:this._url("log"),method:"GET",params:this._params()};try{const c=await this.httpClient.call(s);return(0,o.cast)((0,o.parseDateFields)((0,o.pluckData)(c.data)))}catch(c){(0,o.catchNotFoundOrThrow)(c)}}}et.ScheduleClient=r;var t;return function(i){i.RunActor="RUN_ACTOR",i.RunActorTask="RUN_ACTOR_TASK"}(t||(et.ScheduleActions=t={})),et}var cr={},hi;function Gi(){if(hi)return cr;hi=1,Object.defineProperty(cr,"__esModule",{value:!0}),cr.ScheduleCollectionClient=void 0;const n=B.__importDefault(Y()),u=ge();class o extends u.ResourceCollectionClient{constructor(t){super({resourcePath:"schedules",...t})}async list(t={}){return(0,n.default)(t,n.default.object.exactShape({limit:n.default.optional.number,offset:n.default.optional.number,desc:n.default.optional.boolean})),this._list(t)}async create(t){return(0,n.default)(t,n.default.optional.object),this._create(t)}}return cr.ScheduleCollectionClient=o,cr}var dr={},gi;function Yi(){if(gi)return dr;gi=1,Object.defineProperty(dr,"__esModule",{value:!0}),dr.StoreCollectionClient=void 0;const n=B.__importDefault(Y()),u=ge();class o extends u.ResourceCollectionClient{constructor(t){super({resourcePath:"store",...t})}async list(t={}){return(0,n.default)(t,n.default.object.exactShape({limit:n.default.optional.number,offset:n.default.optional.number,search:n.default.optional.string,sortBy:n.default.optional.string,category:n.default.optional.string,username:n.default.optional.string,pricingModel:n.default.optional.string})),this._list(t)}}return dr.StoreCollectionClient=o,dr}var fr={},Ei;function Wi(){if(Ei)return fr;Ei=1,Object.defineProperty(fr,"__esModule",{value:!0}),fr.TaskClient=void 0;const l=B,n=Be(),u=l.__importDefault(Y()),o=zr(),r=Jr(),t=Qr(),i=fe(),s=se();class c extends i.ResourceClient{constructor(_){super({resourcePath:"actor-tasks",..._})}async get(){return this._get()}async update(_){return(0,u.default)(_,u.default.object),this._update(_)}async delete(){return this._delete()}async start(_,d={}){(0,u.default)(_,u.default.optional.object),(0,u.default)(d,u.default.object.exactShape({build:u.default.optional.string,memory:u.default.optional.number,timeout:u.default.optional.number,waitForFinish:u.default.optional.number,webhooks:u.default.optional.array.ofType(u.default.object),maxItems:u.default.optional.number.not.negative,maxTotalChargeUsd:u.default.optional.number.not.negative}));const{waitForFinish:a,timeout:p,memory:h,build:b,maxItems:v,maxTotalChargeUsd:D}=d,N={waitForFinish:a,timeout:p,memory:h,build:b,webhooks:(0,s.stringifyWebhooksToBase64)(d.webhooks),maxItems:v,maxTotalChargeUsd:D},P={url:this._url("runs"),method:"POST",data:_,params:this._params(N),stringifyFunctions:!0,headers:{"Content-Type":"application/json"}},T=await this.httpClient.call(P);return(0,s.cast)((0,s.parseDateFields)((0,s.pluckData)(T.data)))}async call(_,d={}){(0,u.default)(_,u.default.optional.object),(0,u.default)(d,u.default.object.exactShape({build:u.default.optional.string,memory:u.default.optional.number,timeout:u.default.optional.number.not.negative,waitSecs:u.default.optional.number.not.negative,webhooks:u.default.optional.array.ofType(u.default.object),maxItems:u.default.optional.number.not.negative,maxTotalChargeUsd:u.default.optional.number.not.negative}));const{waitSecs:a,...p}=d,{id:h}=await this.start(_,p);return this.apifyClient.run(h).waitForFinish({waitSecs:a})}async getInput(){const _={url:this._url("input"),method:"GET",params:this._params()};try{const d=await this.httpClient.call(_);return(0,s.cast)(d.data)}catch(d){(0,s.catchNotFoundOrThrow)(d)}}async updateInput(_){const d=await this.httpClient.call({url:this._url("input"),method:"PUT",params:this._params(),data:_});return(0,s.cast)(d.data)}lastRun(_={}){return(0,u.default)(_,u.default.object.exactShape({status:u.default.optional.string.oneOf(Object.values(n.ACT_JOB_STATUSES)),origin:u.default.optional.string.oneOf(Object.values(n.META_ORIGINS))})),new o.RunClient(this._subResourceOptions({id:"last",params:this._params(_),resourcePath:"runs"}))}runs(){return new r.RunCollectionClient(this._subResourceOptions({resourcePath:"runs"}))}webhooks(){return new t.WebhookCollectionClient(this._subResourceOptions())}}return fr.TaskClient=c,fr}var _r={},mi;function Ki(){if(mi)return _r;mi=1,Object.defineProperty(_r,"__esModule",{value:!0}),_r.TaskCollectionClient=void 0;const n=B.__importDefault(Y()),u=ge();class o extends u.ResourceCollectionClient{constructor(t){super({resourcePath:"actor-tasks",...t})}async list(t={}){return(0,n.default)(t,n.default.object.exactShape({limit:n.default.optional.number,offset:n.default.optional.number,desc:n.default.optional.boolean})),this._list(t)}async create(t){return(0,n.default)(t,n.default.object),this._create(t)}}return _r.TaskCollectionClient=o,_r}var tt={},yi;function Hi(){if(yi)return tt;yi=1,Object.defineProperty(tt,"__esModule",{value:!0}),tt.PlatformFeature=tt.UserClient=void 0;const l=fe(),n=se();class u extends l.ResourceClient{constructor(t){super({resourcePath:"users",...t})}async get(){return this._get()}async monthlyUsage(){const t={url:this._url("usage/monthly"),method:"GET",params:this._params()};try{const i=await this.httpClient.call(t);return(0,n.cast)((0,n.parseDateFields)((0,n.pluckData)(i.data),s=>s==="date"))}catch(i){(0,n.catchNotFoundOrThrow)(i)}}async limits(){const t={url:this._url("limits"),method:"GET",params:this._params()};try{const i=await this.httpClient.call(t);return(0,n.cast)((0,n.parseDateFields)((0,n.pluckData)(i.data)))}catch(i){(0,n.catchNotFoundOrThrow)(i)}}async updateLimits(t){const i={url:this._url("limits"),method:"PUT",params:this._params(),data:t};await this.httpClient.call(i)}}tt.UserClient=u;var o;return function(r){r.Actors="ACTORS",r.Storage="STORAGE",r.ProxySERPS="PROXY_SERPS",r.Scheduler="SCHEDULER",r.Webhooks="WEBHOOKS",r.Proxy="PROXY",r.ProxyExternalAccess="PROXY_EXTERNAL_ACCESS"}(o||(tt.PlatformFeature=o={})),tt}var pr={},hr={},bi;function $n(){if(bi)return hr;bi=1,Object.defineProperty(hr,"__esModule",{value:!0}),hr.WebhookDispatchCollectionClient=void 0;const n=B.__importDefault(Y()),u=ge();class o extends u.ResourceCollectionClient{constructor(t){super({resourcePath:"webhook-dispatches",...t})}async list(t={}){return(0,n.default)(t,n.default.object.exactShape({limit:n.default.optional.number,offset:n.default.optional.number,desc:n.default.optional.boolean})),this._list(t)}}return hr.WebhookDispatchCollectionClient=o,hr}var Ai;function Xi(){if(Ai)return pr;Ai=1,Object.defineProperty(pr,"__esModule",{value:!0}),pr.WebhookClient=void 0;const n=B.__importDefault(Y()),u=$n(),o=fe(),r=se();class t extends o.ResourceClient{constructor(s){super({resourcePath:"webhooks",...s})}async get(){return this._get()}async update(s){return(0,n.default)(s,n.default.object),this._update(s)}async delete(){return this._delete()}async test(){const s={url:this._url("test"),method:"POST",params:this._params()};try{const c=await this.httpClient.call(s);return(0,r.cast)((0,r.parseDateFields)((0,r.pluckData)(c.data)))}catch(c){(0,r.catchNotFoundOrThrow)(c)}}dispatches(){return new u.WebhookDispatchCollectionClient(this._subResourceOptions({resourcePath:"dispatches"}))}}return pr.WebhookClient=t,pr}var rt={},Ti;function zi(){if(Ti)return rt;Ti=1,Object.defineProperty(rt,"__esModule",{value:!0}),rt.WebhookDispatchStatus=rt.WebhookDispatchClient=void 0;const l=fe();class n extends l.ResourceClient{constructor(r){super({resourcePath:"webhook-dispatches",...r})}async get(){return this._get()}}rt.WebhookDispatchClient=n;var u;return function(o){o.Active="ACTIVE",o.Succeeded="SUCCEEDED",o.Failed="FAILED"}(u||(rt.WebhookDispatchStatus=u={})),rt}var gr={},Ri;function iu(){if(Ri)return gr;Ri=1,Object.defineProperty(gr,"__esModule",{value:!0}),gr.Statistics=void 0;const n=B.__importDefault(Y());class u{constructor(){Object.defineProperty(this,"calls",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"requests",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"rateLimitErrors",{enumerable:!0,configurable:!0,writable:!0,value:[]})}addRateLimitError(r){(0,n.default)(r,n.default.number.greaterThan(0));const t=r-1;this._fillBlanksWithZeroes(t),this.rateLimitErrors[t]++}_fillBlanksWithZeroes(r){if(this.rateLimitErrors.length<=r)for(let t=0;t<=r;t++)typeof this.rateLimitErrors[t]!="number"&&(this.rateLimitErrors[t]=0)}}return gr.Statistics=u,gr}var Si;function ou(){if(Si)return bt;Si=1;var l={};Object.defineProperty(bt,"__esModule",{value:!0}),bt.ApifyClient=void 0;const n=B,u=Be(),o=n.__importDefault(In()),r=n.__importDefault(Y()),t=eu(),i=xi(),s=ji(),c=Bi(),g=Dn(),_=Ln(),d=Fi(),a=Nn(),p=qi(),h=Xr(),b=Un(),v=Vi(),D=zr(),N=Jr(),P=ki(),T=Gi(),E=Yi(),e=Wi(),y=Ki(),O=Hi(),w=Xi(),I=Qr(),$=zi(),G=$n(),Z=iu();class _e{constructor(U={}){Object.defineProperty(this,"baseUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"token",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"stats",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"logger",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"httpClient",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),(0,r.default)(U,r.default.object.exactShape({baseUrl:r.default.optional.string,maxRetries:r.default.optional.number,minDelayBetweenRetriesMillis:r.default.optional.number,requestInterceptors:r.default.optional.array,timeoutSecs:r.default.optional.number,token:r.default.optional.string,userAgentSuffix:r.default.optional.any(r.default.string,r.default.array.ofType(r.default.string))}));const{baseUrl:ue="https://api.apify.com",maxRetries:ce=8,minDelayBetweenRetriesMillis:Ie=500,requestInterceptors:pe=[],timeoutSecs:Fe=360,token:we}=U,De=ue.endsWith("/")?ue.slice(0,ue.length-1):ue;this.baseUrl=`${De}/v2`,this.token=we,this.stats=new Z.Statistics,this.logger=o.default.child({prefix:"ApifyClient"}),this.httpClient=new t.HttpClient({apifyClientStats:this.stats,maxRetries:ce,minDelayBetweenRetriesMillis:Ie,requestInterceptors:pe,timeoutSecs:Fe,logger:this.logger,token:this.token,userAgentSuffix:U.userAgentSuffix})}_options(){return{baseUrl:this.baseUrl,apifyClient:this,httpClient:this.httpClient}}actors(){return new s.ActorCollectionClient(this._options())}actor(U){return(0,r.default)(U,r.default.string.nonEmpty),new i.ActorClient({id:U,...this._options()})}builds(){return new g.BuildCollectionClient(this._options())}build(U){return(0,r.default)(U,r.default.string.nonEmpty),new c.BuildClient({id:U,...this._options()})}datasets(){return new d.DatasetCollectionClient(this._options())}dataset(U){return(0,r.default)(U,r.default.string.nonEmpty),new _.DatasetClient({id:U,...this._options()})}keyValueStores(){return new p.KeyValueStoreCollectionClient(this._options())}keyValueStore(U){return(0,r.default)(U,r.default.string.nonEmpty),new a.KeyValueStoreClient({id:U,...this._options()})}log(U){return(0,r.default)(U,r.default.string.nonEmpty),new h.LogClient({id:U,...this._options()})}requestQueues(){return new v.RequestQueueCollectionClient(this._options())}requestQueue(U,ue={}){(0,r.default)(U,r.default.string.nonEmpty),(0,r.default)(ue,r.default.object.exactShape({clientKey:r.default.optional.string.nonEmpty,timeoutSecs:r.default.optional.number}));const ce={id:U,...this._options()};return new b.RequestQueueClient(ce,ue)}runs(){return new N.RunCollectionClient({...this._options(),resourcePath:"actor-runs"})}run(U){return(0,r.default)(U,r.default.string.nonEmpty),new D.RunClient({id:U,...this._options()})}tasks(){return new y.TaskCollectionClient(this._options())}task(U){return(0,r.default)(U,r.default.string.nonEmpty),new e.TaskClient({id:U,...this._options()})}schedules(){return new T.ScheduleCollectionClient(this._options())}schedule(U){return(0,r.default)(U,r.default.string.nonEmpty),new P.ScheduleClient({id:U,...this._options()})}user(U=u.ME_USER_NAME_PLACEHOLDER){return(0,r.default)(U,r.default.string.nonEmpty),new O.UserClient({id:U,...this._options()})}webhooks(){return new I.WebhookCollectionClient(this._options())}webhook(U){return(0,r.default)(U,r.default.string.nonEmpty),new w.WebhookClient({id:U,...this._options()})}webhookDispatches(){return new G.WebhookDispatchCollectionClient(this._options())}webhookDispatch(U){return(0,r.default)(U,r.default.string.nonEmpty),new $.WebhookDispatchClient({id:U,...this._options()})}store(){return new E.StoreCollectionClient(this._options())}async setStatusMessage(U,ue){const ce=l[u.ACTOR_ENV_VARS.RUN_ID];if(!ce)throw new Error(`Environment variable ${u.ACTOR_ENV_VARS.RUN_ID} is not set!`);await this.run(ce).update({statusMessage:U,...ue})}}return bt.ApifyClient=_e,bt}(function(l){Object.defineProperty(l,"__esModule",{value:!0}),l.InvalidResponseBodyError=l.ApifyApiError=void 0;const n=B;n.__exportStar(ou(),l),n.__exportStar(xi(),l),n.__exportStar(ji(),l),n.__exportStar(Bi(),l),n.__exportStar(Dn(),l),n.__exportStar(Ln(),l),n.__exportStar(Fi(),l),n.__exportStar(Nn(),l),n.__exportStar(qi(),l),n.__exportStar(Xr(),l),n.__exportStar(Un(),l),n.__exportStar(Vi(),l),n.__exportStar(zr(),l),n.__exportStar(Jr(),l),n.__exportStar(ki(),l),n.__exportStar(Gi(),l),n.__exportStar(Wi(),l),n.__exportStar(Ki(),l),n.__exportStar(Hi(),l),n.__exportStar(Xi(),l),n.__exportStar(Qr(),l),n.__exportStar(zi(),l),n.__exportStar($n(),l),n.__exportStar(Yi(),l);var u=Ui();Object.defineProperty(l,"ApifyApiError",{enumerable:!0,get:function(){return u.ApifyApiError}});var o=$i();Object.defineProperty(l,"InvalidResponseBodyError",{enumerable:!0,get:function(){return o.InvalidResponseBodyError}})})(Ci);const F=Uo(Ci);F.ActorClient;F.ActorCollectionClient;F.ApifyApiError;const su=F.ApifyClient;F.BuildClient;F.BuildCollectionClient;F.DatasetClient;F.DatasetCollectionClient;F.DownloadItemsFormat;F.InvalidResponseBodyError;F.KeyValueStoreClient;F.KeyValueStoreCollectionClient;F.LogClient;F.PlatformFeature;F.RequestQueueClient;F.RequestQueueCollectionClient;F.RunClient;F.RunCollectionClient;F.ScheduleActions;F.ScheduleClient;F.ScheduleCollectionClient;F.StoreCollectionClient;F.TaskClient;F.TaskCollectionClient;F.UserClient;F.WebhookClient;F.WebhookCollectionClient;F.WebhookDispatchClient;F.WebhookDispatchCollectionClient;F.WebhookDispatchStatus;var uu={};function lu(l){const n=/\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,}\b/,u=l.match(n);return u?u[0]:void 0}function On(l,n){let u,o;switch(l.toLowerCase()){case"twitter":u=/(?:twitter\.com\/|^|[^\w@])@?(\w{1,15})(?!\w)/i,o="https://twitter.com/";break;case"instagram":u=/(?:instagram\.com\/|^|[^\w@])@?(\w{1,30})(?!\w)/i,o="https://instagram.com/";break;case"linkedin":u=/linkedin\.com\/in\/([a-zA-Z0-9_-]+)/i,o="https://linkedin.com/in/";break;default:return}const r=n.match(u);return r?`${o}${r[1]}`:void 0}ie.object({id:ie.string().optional(),name:ie.string().min(1,"Name is required"),email:ie.string().email("Invalid email").optional(),phone:ie.string().optional(),title:ie.string().optional(),company:ie.string().optional(),website:ie.string().url().optional().or(ie.string()),address:ie.string().optional(),notes:ie.string().optional(),category:ie.enum(["radio","tv","movie","publishing","other"]).default("other"),instagram:ie.string().optional(),twitter:ie.string().optional(),linkedin:ie.string().optional(),locality:ie.string().optional(),extractedAt:ie.date().default(()=>new Date)});const Oi=uu.APIFY_API_TOKEN||void 0;function cu(){return Oi?new su({token:Oi}):(console.warn("No Apify token found. Direct API calls will not work."),null)}async function hu(l,n,u,o=10){try{const r=cu();if(!r)throw new Error("Apify API token not available");console.log(`Extracting contacts using Apify for "${l} ${u}" in ${n}`);try{const _=await r.actor("drobnikj/crawler-google-places").call({searchText:`${l} ${u}`,location:n,maxPlacesPerSearch:o,language:"en",includeWebsite:!0,includeOpeningHours:!0,includeAddress:!0,includeRating:!0,includePhoneNumber:!0,maxReviews:0,maxImages:0,extendedOutputInfo:!0,maxConcurrency:5,includeStatistics:!0});console.log(`Apify run completed, dataset ID: ${_.defaultDatasetId}`);const{items:d}=await r.dataset(_.defaultDatasetId).listItems();if(console.log(`Retrieved ${d.length} contacts from Apify`),d.length>0)return d.map(p=>{var P;const h=p.name||"Unknown",b=p.url||"",v=p.phoneNumber?p.phoneNumber:void 0,D=[h,p.address||"",((P=p.categories)==null?void 0:P.join(" "))||"",p.description||"",b].join(" "),N=lu(D);return{name:h,category:u,company:h,website:b,email:N,phone:v,address:p.address||void 0,locality:n,notes:p.description||"",extractedAt:new Date,twitter:On("twitter",D),linkedin:On("linkedin",D),instagram:On("instagram",D)}});console.log("No places found. Trying alternate actor...")}catch(g){console.error("Error with Google Maps Scraper actor, trying fallback:",g)}const i=await r.actor("apify/google-search-scraper").call({queries:[`${l} ${u} ${n} contact info`],maxPagesPerQuery:Math.ceil(o/10),resultsPerPage:10,mobileResults:!1,languageCode:"en",countryCode:"US",includeUnfilteredResults:!1,saveHtml:!1,saveHtmlToKeyValueStore:!1});console.log(`Apify run completed, dataset ID: ${i.defaultDatasetId}`);const{items:s}=await r.dataset(i.defaultDatasetId).listItems();return console.log(`Retrieved ${s.length} contacts from Apify`),s.map(g=>({name:g.name||"Unknown",category:u,company:g.name||"",website:g.website||"",email:g.email||void 0,phone:g.phone||void 0,address:g.address||void 0,locality:n,notes:g.description||"",extractedAt:new Date,twitter:g.twitter||void 0,linkedin:g.linkedin||void 0,instagram:g.instagram||void 0}))}catch(r){throw console.error("Error extracting contacts with Apify:",r),r}}export{hu as extractContactsWithApify};
